<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explicação Interativa do Código C - Gerenciador de Tarefas</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a202c; /* bg-gray-900 */
            color: #e2e8f0; /* text-gray-200 */
        }
        .code-container {
            background-color: #2d3748; /* bg-gray-800 */
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            font-family: 'Courier New', Courier, monospace;
            font-size: 14px;
            line-height: 1.6;
            margin-bottom: 20px;
        }
        .code-line {
            padding: 5px 10px;
            border-radius: 4px;
            margin-bottom: 2px;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out;
            display: flex;
            align-items: flex-start; /* Align items to the top */
        }
        .code-line:hover {
            background-color: #4a5568; /* bg-gray-700 */
        }
        .line-number {
            color: #718096; /* text-gray-500 */
            margin-right: 15px;
            user-select: none;
            width: 30px; /* Fixed width for line numbers */
            text-align: right;
        }
        .code-content {
            flex-grow: 1;
        }
        .keyword { color: #63b3ed; } /* blue-400 */
        .type { color: #4fd1c5; } /* teal-400 */
        .function-name { color: #d53f8c; } /* pink-600 */
        .preprocessor { color: #f56565; } /* red-500 */
        .string { color: #f6ad55; } /* orange-400 */
        .comment { color: #a0aec0; } /* gray-500 */
        .number { color: #68d391; } /* green-400 */
        .variable { color: #e2e8f0; } /* gray-200 */
        .operator { color: #cbd5e0; } /* gray-400 */

        .section-title {
            font-size: 1.5em;
            color: #9f7aea; /* purple-500 */
            margin-top: 20px;
            margin-bottom: 10px;
            border-bottom: 1px solid #4a5568; /* gray-700 */
            padding-bottom: 5px;
        }
        .section-explanation {
            background-color: #2d3748; /* bg-gray-800 */
            padding: 10px;
            border-radius: 6px;
            margin-bottom: 15px;
            font-family: 'Inter', sans-serif;
            font-size: 0.95em;
            color: #a0aec0; /* gray-400 */
        }

        /* Modal styles */
        .modal {
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.6);
            display: none; /* Hidden by default */
            align-items: center;
            justify-content: center;
        }
        .modal-content {
            background-color: #2d3748; /* bg-gray-800 */
            margin: auto;
            padding: 30px;
            border: 1px solid #4a5568; /* gray-700 */
            width: 80%;
            max-width: 700px;
            border-radius: 8px;
            color: #e2e8f0; /* text-gray-200 */
            font-family: 'Inter', sans-serif;
        }
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #4a5568;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .modal-title {
            font-size: 1.25em;
            color: #9f7aea; /* purple-500 */
        }
        .close-button {
            color: #cbd5e0; /* gray-400 */
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        .close-button:hover,
        .close-button:focus {
            color: #e2e8f0; /* text-gray-200 */
            text-decoration: none;
        }
        .modal-body {
            font-size: 1em;
            line-height: 1.7;
        }
        .modal-body strong {
            color: #63b3ed; /* blue-400 */
        }
        .modal-body code {
            background-color: #1a202c; /* bg-gray-900 */
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', Courier, monospace;
            color: #f6ad55; /* orange-400 */
        }
    </style>
</head>
<body>
    <div class="container mx-auto p-4 md:p-8">
        <header class="text-center mb-12">
            <h1 class="text-4xl font-bold text-purple-400">Analisador Interativo de Código C</h1>
            <p class="text-xl text-gray-400 mt-2">Gerenciador de Tarefas em Lista Encadeada</p>
        </header>

        <div id="code-analysis" class="code-container">
            </div>

        <div id="explanationModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="modalTitle" class="modal-title">Explicação Detalhada</h2>
                    <span class="close-button" onclick="closeModal()">&times;</span>
                </div>
                <div id="modalBody" class="modal-body">
                    <p>Clique em uma linha de código para ver a explicação detalhada aqui.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Dados do código e explicações
        const codeData = [
            // Seção: Includes
            {
                sectionTitle: "Bibliotecas Incluídas (Cabeçalhos)",
                sectionExplanation: "Estas linhas incluem bibliotecas padrão da linguagem C, que fornecem funções prontas para uso, como entrada/saída de dados, alocação de memória e manipulação de strings.",
                lines: [
                    { line: 1, code: '<span class="preprocessor">#include</span> <span class="string">&lt;stdio.h&gt;</span>', short: "Biblioteca para entrada/saída padrão (ex: printf, scanf).", long: "<strong>stdio.h (Standard Input/Output Header):</strong> Fornece funções para operações de entrada e saída de dados, como <code>printf</code> (para imprimir no console), <code>scanf</code> (para ler do console), <code>fgets</code> (para ler strings), entre outras. É fundamental para a interação do programa com o usuário." },
                    { line: 2, code: '<span class="preprocessor">#include</span> <span class="string">&lt;stdlib.h&gt;</span>', short: "Biblioteca para funções gerais (ex: malloc, free, exit).", long: "<strong>stdlib.h (Standard Library Header):</strong> Contém declarações de funções para diversas operações utilitárias, incluindo gerenciamento de memória dinâmica (<code>malloc</code>, <code>calloc</code>, <code>realloc</code>, <code>free</code>), conversão de strings para números (<code>atoi</code>, <code>atof</code>), geração de números aleatórios (<code>rand</code>, <code>srand</code>) e controle de processos (<code>exit</code>)." },
                    { line: 3, code: '<span class="preprocessor">#include</span> <span class="string">&lt;string.h&gt;</span>', short: "Biblioteca para manipulação de strings (ex: strcpy, strcmp).", long: "<strong>string.h (String Header):</strong> Oferece um conjunto de funções para manipular strings (sequências de caracteres terminadas por um caractere nulo '\\0'), como copiar strings (<code>strcpy</code>, <code>strncpy</code>), concatenar strings (<code>strcat</code>, <code>strncat</code>), comparar strings (<code>strcmp</code>, <code>strncmp</code>), e procurar caracteres ou substrings (<code>strchr</code>, <code>strstr</code>)." }
                ]
            },
            // Seção: Estrutura Tarefa
            {
                sectionTitle: "Definição da Estrutura (struct) Tarefa",
                sectionExplanation: "Aqui é definida a estrutura de dados <code>Tarefa</code>, que representa uma tarefa individual no gerenciador. Ela agrupa diferentes tipos de dados relacionados a uma tarefa.",
                lines: [
                    { line: 5, code: '<span class="keyword">typedef struct</span> <span class="type">Tarefa</span> {', short: "Início da definição da estrutura 'Tarefa'. 'typedef' cria um alias.", long: "<strong><code>typedef struct Tarefa { ... } Tarefa;</code>:</strong> Esta é a definição de um tipo de dado estruturado chamado <code>Tarefa</code>. A palavra-chave <code>typedef</code> é usada para criar um alias (um novo nome) para o tipo <code>struct Tarefa</code>, permitindo que você use apenas <code>Tarefa</code> em vez de <code>struct Tarefa</code> ao declarar variáveis deste tipo. A estrutura agrupa diversos campos (membros) que representam os atributos de uma tarefa." },
                    { line: 6, code: '    <span class="keyword">int</span> <span class="variable">id</span>;', short: "Campo para armazenar o ID numérico da tarefa.", long: "<strong><code>int id;</code>:</strong> Declara um membro do tipo inteiro chamado <code>id</code>. Este campo será usado para armazenar um identificador único para cada tarefa." },
                    { line: 7, code: '    <span class="keyword">char</span> <span class="variable">titulo</span>[<span class="number">50</span>];', short: "Campo para armazenar o título da tarefa (até 49 caracteres).", long: "<strong><code>char titulo[50];</code>:</strong> Declara um array de caracteres chamado <code>titulo</code> com capacidade para 50 caracteres. Este campo armazenará o título da tarefa. Note que, devido ao caractere nulo terminador (<code>\\0</code>) das strings em C, o título pode ter no máximo 49 caracteres visíveis." },
                    { line: 8, code: '    <span class="keyword">char</span> <span class="variable">descricao</span>[<span class="number">100</span>];', short: "Campo para armazenar a descrição da tarefa (até 99 caracteres).", long: "<strong><code>char descricao[100];</code>:</strong> Declara um array de caracteres chamado <code>descricao</code> com capacidade para 100 caracteres. Este campo armazenará uma descrição mais detalhada da tarefa. Similar ao título, a descrição pode ter no máximo 99 caracteres visíveis." },
                    { line: 9, code: '    <span class="keyword">char</span> <span class="variable">prioridade</span>[<span class="number">10</span>];', short: "Campo para armazenar a prioridade da tarefa como string (ex: 'Alta').", long: "<strong><code>char prioridade[10];</code>:</strong> Declara um array de caracteres chamado <code>prioridade</code> com capacidade para 10 caracteres. Este campo armazenará a prioridade da tarefa como uma string (por exemplo, 'Alta', 'Média', 'Baixa')." },
                    { line: 10, code: '    <span class="keyword">struct</span> <span class="type">Tarefa</span>* <span class="variable">proximo</span>;', short: "Ponteiro para a próxima tarefa na lista encadeada.", long: "<strong><code>struct Tarefa* proximo;</code>:</strong> Declara um ponteiro chamado <code>proximo</code>. Este ponteiro armazena o endereço de memória da próxima estrutura <code>Tarefa</code> na lista encadeada. Se for a última tarefa da lista, este ponteiro será <code>NULL</code>. É o que conecta as tarefas para formar a lista." },
                    { line: 11, code: '} <span class="type">Tarefa</span>;', short: "Fim da definição da estrutura e alias 'Tarefa'.", long: "<strong><code>} Tarefa;</code>:</strong> Finaliza a definição da estrutura <code>struct Tarefa</code> e, graças ao <code>typedef</code> no início, estabelece <code>Tarefa</code> como um nome alternativo (alias) para <code>struct Tarefa</code>. Isso simplifica a declaração de variáveis deste tipo." }
                ]
            },
            // Seção: Variável Global
            {
                sectionTitle: "Variável Global",
                sectionExplanation: "Variáveis globais são acessíveis de qualquer parte do código. Seu uso deve ser cuidadoso para evitar complexidade.",
                lines: [
                    { line: 13, code: '<span class="keyword">int</span> <span class="variable">numeroTarefa</span> <span class="operator">=</span> <span class="number">1</span>;', short: "Contador global para gerar IDs únicos para as tarefas.", long: "<strong><code>int numeroTarefa = 1;</code>:</strong> Declara uma variável global do tipo inteiro chamada <code>numeroTarefa</code> e a inicializa com o valor <code>1</code>. Esta variável é usada para atribuir IDs sequenciais e únicos a cada nova tarefa criada. Por ser global, seu valor persiste durante toda a execução do programa e pode ser acessado e modificado por qualquer função." }
                ]
            },
            // Seção: Função criarTarefa
            {
                sectionTitle: "Função: criarTarefa",
                sectionExplanation: "Esta função é responsável por alocar memória para uma nova tarefa, inicializar seus campos com os valores fornecidos e retornar um ponteiro para a tarefa criada.",
                lines: [
                    { line: 15, code: '<span class="type">Tarefa</span>* <span class="function-name">criarTarefa</span>(<span class="keyword">char</span>* <span class="variable">titulo</span>, <span class="keyword">char</span>* <span class="variable">descricao</span>, <span class="keyword">int</span> <span class="variable">prioridadeNum</span>) {', short: "Definição da função 'criarTarefa'. Recebe título, descrição e um número para prioridade.", long: "<strong><code>Tarefa* criarTarefa(char* titulo, char* descricao, int prioridadeNum) {</code>:</strong> Define a função <code>criarTarefa</code>. Ela retorna um ponteiro para uma estrutura <code>Tarefa</code> (<code>Tarefa*</code>). Recebe três argumentos: <code>titulo</code> (um ponteiro para uma string), <code>descricao</code> (um ponteiro para uma string) e <code>prioridadeNum</code> (um inteiro que representa o nível de prioridade)." },
                    { line: 16, code: '    <span class="type">Tarefa</span>* <span class="variable">novaTarefa</span> <span class="operator">=</span> (<span class="type">Tarefa</span>*)<span class="function-name">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">Tarefa</span>));', short: "Aloca memória dinamicamente para uma nova tarefa.", long: "<strong><code>Tarefa* novaTarefa = (Tarefa*)malloc(sizeof(Tarefa));</code>:</strong> Aloca dinamicamente memória suficiente para armazenar uma estrutura <code>Tarefa</code>. <code>sizeof(Tarefa)</code> calcula o tamanho em bytes da estrutura. <code>malloc</code> retorna um ponteiro do tipo <code>void*</code>, que é convertido (cast) para <code>Tarefa*</code>. O endereço da memória alocada é armazenado no ponteiro <code>novaTarefa</code>." },
                    { line: 17, code: '    <span class="keyword">if</span> (<span class="variable">novaTarefa</span> <span class="operator">==</span> <span class="keyword">NULL</span>) {', short: "Verifica se a alocação de memória falhou.", long: "<strong><code>if (novaTarefa == NULL) {</code>:</strong> Verifica se a função <code>malloc</code> falhou em alocar memória. Se <code>malloc</code> não conseguir encontrar um bloco de memória contínuo do tamanho solicitado, ela retorna <code>NULL</code>." },
                    { line: 18, code: '        <span class="function-name">printf</span>(<span class="string">"Erro ao alocar memória!\\n"</span>);', short: "Imprime mensagem de erro se a alocação falhar.", long: "<strong><code>printf(\"Erro ao alocar memória!\\n\");</code>:</strong> Se a alocação de memória falhou (<code>novaTarefa</code> é <code>NULL</code>), esta linha imprime uma mensagem de erro no console." },
                    { line: 19, code: '        <span class="keyword">return</span> <span class="keyword">NULL</span>;', short: "Retorna NULL indicando que a criação da tarefa falhou.", long: "<strong><code>return NULL;</code>:</strong> Se a alocação de memória falhou, a função retorna <code>NULL</code> para indicar ao chamador que a tarefa não pôde ser criada." },
                    { line: 20, code: '    }', short: "Fim do bloco 'if'.", long: "<strong><code>}</code>:</strong> Fecha o bloco de código da condicional <code>if</code>." },
                    { line: 22, code: '    <span class="function-name">strcpy</span>(<span class="variable">novaTarefa</span><span class="operator">-></span><span class="variable">titulo</span>, <span class="variable">titulo</span>);', short: "Copia o título fornecido para o campo 'titulo' da nova tarefa.", long: "<strong><code>strcpy(novaTarefa->titulo, titulo);</code>:</strong> Copia a string apontada por <code>titulo</code> (argumento da função) para o campo <code>titulo</code> da estrutura <code>novaTarefa</code>. A função <code>strcpy</code> é da biblioteca <code>string.h</code>." },
                    { line: 23, code: '    <span class="function-name">strcpy</span>(<span class="variable">novaTarefa</span><span class="operator">-></span><span class="variable">descricao</span>, <span class="variable">descricao</span>);', short: "Copia a descrição fornecida para o campo 'descricao'.", long: "<strong><code>strcpy(novaTarefa->descricao, descricao);</code>:</strong> Copia a string apontada por <code>descricao</code> (argumento da função) para o campo <code>descricao</code> da estrutura <code>novaTarefa</code>." },
                    { line: 25, code: '    <span class="keyword">switch</span> (<span class="variable">prioridadeNum</span>) {', short: "Inicia uma estrutura 'switch' para definir a string de prioridade.", long: "<strong><code>switch (prioridadeNum) {</code>:</strong> Inicia uma estrutura de controle <code>switch</code> que avalia o valor da variável <code>prioridadeNum</code> (o número da prioridade passado como argumento)." },
                    { line: 26, code: '        <span class="keyword">case</span> <span class="number">1</span>:', short: "Caso a prioridade seja 1.", long: "<strong><code>case 1:</code>:</strong> Se <code>prioridadeNum</code> for igual a <code>1</code>, o código dentro deste <code>case</code> será executado." },
                    { line: 27, code: '            <span class="function-name">strcpy</span>(<span class="variable">novaTarefa</span><span class="operator">-></span><span class="variable">prioridade</span>, <span class="string">"Alta"</span>);', short: "Define a prioridade como 'Alta'.", long: "<strong><code>strcpy(novaTarefa->prioridade, \"Alta\");</code>:</strong> Copia a string \"Alta\" para o campo <code>prioridade</code> da <code>novaTarefa</code>." },
                    { line: 28, code: '            <span class="keyword">break</span>;', short: "Sai do 'switch'.", long: "<strong><code>break;</code>:</strong> Interrompe a execução do <code>switch</code>, impedindo que os próximos <code>case</code>s sejam verificados ou executados (fall-through)." },
                    { line: 29, code: '        <span class="keyword">case</span> <span class="number">2</span>:', short: "Caso a prioridade seja 2.", long: "<strong><code>case 2:</code>:</strong> Se <code>prioridadeNum</code> for igual a <code>2</code>." },
                    { line: 30, code: '            <span class="function-name">strcpy</span>(<span class="variable">novaTarefa</span><span class="operator">-></span><span class="variable">prioridade</span>, <span class="string">"Média"</span>);', short: "Define a prioridade como 'Média'.", long: "<strong><code>strcpy(novaTarefa->prioridade, \"Média\");</code>:</strong> Copia a string \"Média\" para o campo <code>prioridade</code>." },
                    { line: 31, code: '            <span class="keyword">break</span>;', short: "Sai do 'switch'.", long: "<strong><code>break;</code>:</strong> Interrompe a execução do <code>switch</code>." },
                    { line: 32, code: '        <span class="keyword">case</span> <span class="number">3</span>:', short: "Caso a prioridade seja 3.", long: "<strong><code>case 3:</code>:</strong> Se <code>prioridadeNum</code> for igual a <code>3</code>." },
                    { line: 33, code: '            <span class="function-name">strcpy</span>(<span class="variable">novaTarefa</span><span class="operator">-></span><span class="variable">prioridade</span>, <span class="string">"Baixa"</span>);', short: "Define a prioridade como 'Baixa'.", long: "<strong><code>strcpy(novaTarefa->prioridade, \"Baixa\");</code>:</strong> Copia a string \"Baixa\" para o campo <code>prioridade</code>." },
                    { line: 34, code: '            <span class="keyword">break</span>;', short: "Sai do 'switch'.", long: "<strong><code>break;</code>:</strong> Interrompe a execução do <code>switch</code>." },
                    { line: 35, code: '        <span class="keyword">default</span>:', short: "Caso o número da prioridade seja inválido.", long: "<strong><code>default:</code>:</strong> Se o valor de <code>prioridadeNum</code> não corresponder a nenhum dos <code>case</code>s anteriores (1, 2 ou 3)." },
                    { line: 36, code: '            <span class="function-name">printf</span>(<span class="string">"Erro: Prioridade inválida!\\n"</span>);', short: "Imprime mensagem de erro de prioridade inválida.", long: "<strong><code>printf(\"Erro: Prioridade inválida!\\n\");</code>:</strong> Imprime uma mensagem de erro indicando que o valor fornecido para prioridade não é válido." },
                    { line: 37, code: '            <span class="function-name">free</span>(<span class="variable">novaTarefa</span>);', short: "Libera a memória alocada, já que a tarefa não será válida.", long: "<strong><code>free(novaTarefa);</code>:</strong> Libera a memória que foi alocada para <code>novaTarefa</code>, pois a tarefa não pode ser criada corretamente devido à prioridade inválida. Isso evita vazamentos de memória." },
                    { line: 38, code: '            <span class="keyword">return</span> <span class="keyword">NULL</span>;', short: "Retorna NULL indicando falha.", long: "<strong><code>return NULL;</code>:</strong> Retorna <code>NULL</code> para indicar que a criação da tarefa falhou devido à prioridade inválida." },
                    { line: 39, code: '    }', short: "Fim do 'switch'.", long: "<strong><code>}</code>:</strong> Fecha o bloco de código da estrutura <code>switch</code>." },
                    { line: 41, code: '    <span class="variable">novaTarefa</span><span class="operator">-></span><span class="variable">id</span> <span class="operator">=</span> <span class="variable">numeroTarefa</span><span class="operator">++</span>;', short: "Atribui um ID único à tarefa e incrementa o contador global.", long: "<strong><code>novaTarefa->id = numeroTarefa++;</code>:</strong> Atribui o valor atual da variável global <code>numeroTarefa</code> ao campo <code>id</code> da <code>novaTarefa</code>. Em seguida, o operador <code>++</code> (pós-incremento) aumenta o valor de <code>numeroTarefa</code> em 1, garantindo que a próxima tarefa receba um ID diferente." },
                    { line: 42, code: '    <span class="variable">novaTarefa</span><span class="operator">-></span><span class="variable">proximo</span> <span class="operator">=</span> <span class="keyword">NULL</span>;', short: "Define o ponteiro 'proximo' como NULL, pois é a última tarefa (inicialmente).", long: "<strong><code>novaTarefa->proximo = NULL;</code>:</strong> Inicializa o campo <code>proximo</code> da <code>novaTarefa</code> com <code>NULL</code>. Isso significa que, no momento da criação, esta nova tarefa é considerada a última da lista (ou a única, se a lista estiver vazia)." },
                    { line: 43, code: '    <span class="keyword">return</span> <span class="variable">novaTarefa</span>;', short: "Retorna o ponteiro para a tarefa recém-criada.", long: "<strong><code>return novaTarefa;</code>:</strong> Retorna o ponteiro <code>novaTarefa</code>, que aponta para a estrutura da tarefa recém-criada e inicializada. Este ponteiro pode então ser usado para adicionar a tarefa a uma lista." },
                    { line: 44, code: '}', short: "Fim da função 'criarTarefa'.", long: "<strong><code>}</code>:</strong> Fecha o bloco de código da função <code>criarTarefa</code>." }
                ]
            },
            // Seção: Função empty
            {
                sectionTitle: "Função: empty",
                sectionExplanation: "Verifica se a lista de tarefas está vazia.",
                lines: [
                    { line: 46, code: '<span class="keyword">int</span> <span class="function-name">empty</span>(<span class="type">Tarefa</span>* <span class="variable">head</span>) {', short: "Define a função 'empty' que verifica se a lista está vazia.", long: "<strong><code>int empty(Tarefa* head) {</code>:</strong> Define a função <code>empty</code> que retorna um inteiro (<code>int</code>). Ela recebe um ponteiro <code>head</code> do tipo <code>Tarefa*</code>, que representa o início (cabeça) da lista encadeada de tarefas. O objetivo desta função é verificar se a lista está vazia." },
                    { line: 47, code: '    <span class="keyword">return</span> (<span class="variable">head</span> <span class="operator">==</span> <span class="keyword">NULL</span>);', short: "Retorna verdadeiro (1) se 'head' for NULL (lista vazia), senão falso (0).", long: "<strong><code>return (head == NULL);</code>:</strong> Compara o ponteiro <code>head</code> com <code>NULL</code>. Se <code>head</code> for <code>NULL</code>, significa que a lista não tem nenhum nó (tarefa), ou seja, está vazia. A expressão <code>(head == NULL)</code> avalia para <code>1</code> (verdadeiro em C, no contexto booleano) se a condição for verdadeira, e <code>0</code> (falso) caso contrário. Este valor é retornado pela função." },
                    { line: 48, code: '}', short: "Fim da função 'empty'.", long: "<strong><code>}</code>:</strong> Fecha o bloco de código da função <code>empty</code>." }
                ]
            },
            // Seção: Função create
            {
                sectionTitle: "Função: create",
                sectionExplanation: "Inicializa uma lista de tarefas como vazia.",
                lines: [
                    { line: 50, code: '<span class="type">Tarefa</span>* <span class="function-name">create</span>() {', short: "Define a função 'create' para inicializar uma nova lista.", long: "<strong><code>Tarefa* create() {</code>:</strong> Define a função <code>create</code> que retorna um ponteiro para uma <code>Tarefa</code> (<code>Tarefa*</code>). Esta função não recebe argumentos e é usada para criar (ou, mais precisamente, inicializar) uma nova lista de tarefas." },
                    { line: 51, code: '    <span class="keyword">return</span> <span class="keyword">NULL</span>;', short: "Retorna NULL, representando uma lista vazia.", long: "<strong><code>return NULL;</code>:</strong> Retorna <code>NULL</code>. Em listas encadeadas, um ponteiro <code>head</code> (cabeça da lista) com valor <code>NULL</code> indica que a lista está vazia. Portanto, esta função efetivamente cria uma representação de uma lista vazia." },
                    { line: 52, code: '}', short: "Fim da função 'create'.", long: "<strong><code>}</code>:</strong> Fecha o bloco de código da função <code>create</code>." }
                ]
            },
            // Seção: Função insertLast
            {
                sectionTitle: "Função: insertLast",
                sectionExplanation: "Insere uma nova tarefa no final da lista encadeada.",
                lines: [
                    { line: 54, code: '<span class="keyword">void</span> <span class="function-name">insertLast</span>(<span class="type">Tarefa</span><span class="operator">**</span> <span class="variable">head</span>, <span class="keyword">char</span>* <span class="variable">titulo</span>, <span class="keyword">char</span>* <span class="variable">descricao</span>, <span class="keyword">int</span> <span class="variable">prioridade</span>) {', short: "Define 'insertLast' para adicionar tarefa no fim da lista. Recebe ponteiro para ponteiro 'head'.", long: "<strong><code>void insertLast(Tarefa** head, char* titulo, char* descricao, int prioridade) {</code>:</strong> Define a função <code>insertLast</code> que não retorna valor (<code>void</code>). Ela recebe quatro argumentos: <code>head</code> (um ponteiro para um ponteiro para <code>Tarefa</code>, <code>Tarefa**</code>), <code>titulo</code> (string), <code>descricao</code> (string) e <code>prioridade</code> (inteiro). O ponteiro duplo para <code>head</code> é necessário porque a função pode modificar o próprio ponteiro <code>head</code> (caso a lista esteja vazia)." },
                    { line: 55, code: '    <span class="type">Tarefa</span>* <span class="variable">novaTarefa</span> <span class="operator">=</span> <span class="function-name">criarTarefa</span>(<span class="variable">titulo</span>, <span class="variable">descricao</span>, <span class="variable">prioridade</span>);', short: "Cria uma nova tarefa usando a função 'criarTarefa'.", long: "<strong><code>Tarefa* novaTarefa = criarTarefa(titulo, descricao, prioridade);</code>:</strong> Chama a função <code>criarTarefa</code> (definida anteriormente) passando o título, descrição e prioridade recebidos. O ponteiro para a tarefa recém-criada é armazenado em <code>novaTarefa</code>. Se <code>criarTarefa</code> falhar (por exemplo, por falta de memória ou prioridade inválida), <code>novaTarefa</code> será <code>NULL</code>." },
                    { line: 56, code: '    <span class="keyword">if</span> (<span class="function-name">empty</span>(<span class="operator">*</span><span class="variable">head</span>)) {', short: "Verifica se a lista está vazia. Usa '*' para acessar o valor de 'head'.", long: "<strong><code>if (empty(*head)) {</code>:</strong> Chama a função <code>empty</code> para verificar se a lista está vazia. <code>*head</code> desreferencia o ponteiro duplo, passando o ponteiro <code>head</code> real (o início da lista) para a função <code>empty</code>. Se a lista estiver vazia, <code>empty</code> retorna verdadeiro." },
                    { line: 57, code: '        <span class="operator">*</span><span class="variable">head</span> <span class="operator">=</span> <span class="variable">novaTarefa</span>;', short: "Se vazia, a nova tarefa se torna a cabeça da lista.", long: "<strong><code>*head = novaTarefa;</code>:</strong> Se a lista estava vazia, o ponteiro <code>head</code> da lista (acessado via <code>*head</code>) é atualizado para apontar para <code>novaTarefa</code>. Assim, a nova tarefa se torna o primeiro (e único) elemento da lista." },
                    { line: 58, code: '    } <span class="keyword">else</span> {', short: "Caso contrário (lista não vazia).", long: "<strong><code>} else {</code>:</strong> Se a lista não estiver vazia (ou seja, já contém uma ou mais tarefas)." },
                    { line: 59, code: '        <span class="type">Tarefa</span>* <span class="variable">temp</span> <span class="operator">=</span> <span class="operator">*</span><span class="variable">head</span>;', short: "Cria um ponteiro temporário 'temp' para percorrer a lista, começando da cabeça.", long: "<strong><code>Tarefa* temp = *head;</code>:</strong> Um ponteiro temporário <code>temp</code> do tipo <code>Tarefa*</code> é criado e inicializado com o valor de <code>*head</code> (o endereço do primeiro nó da lista). Este ponteiro será usado para percorrer a lista até encontrar o último nó." },
                    { line: 60, code: '        <span class="keyword">while</span> (<span class="variable">temp</span><span class="operator">-></span><span class="variable">proximo</span> <span class="operator">!=</span> <span class="keyword">NULL</span>) {', short: "Percorre a lista até encontrar o último nó (cujo 'proximo' é NULL).", long: "<strong><code>while (temp->proximo != NULL) {</code>:</strong> Inicia um loop <code>while</code> que continua enquanto o campo <code>proximo</code> do nó atual (apontado por <code>temp</code>) não for <code>NULL</code>. Quando <code>temp->proximo</code> for <code>NULL</code>, significa que <code>temp</code> está apontando para o último nó da lista." },
                    { line: 61, code: '            <span class="variable">temp</span> <span class="operator">=</span> <span class="variable">temp</span><span class="operator">-></span><span class="variable">proximo</span>;', short: "Avança 'temp' para o próximo nó da lista.", long: "<strong><code>temp = temp->proximo;</code>:</strong> Dentro do loop, <code>temp</code> é atualizado para apontar para o próximo nó da lista (<code>temp->proximo</code>). Isso move <code>temp</code> um passo à frente na lista." },
                    { line: 62, code: '        }', short: "Fim do loop 'while'.", long: "<strong><code>}</code>:</strong> Fecha o bloco do loop <code>while</code>. Após o loop, <code>temp</code> aponta para o último nó da lista." },
                    { line: 63, code: '        <span class="variable">temp</span><span class="operator">-></span><span class="variable">proximo</span> <span class="operator">=</span> <span class="variable">novaTarefa</span>;', short: "O 'proximo' do último nó agora aponta para a nova tarefa.", long: "<strong><code>temp->proximo = novaTarefa;</code>:</strong> O campo <code>proximo</code> do último nó da lista (que era <code>NULL</code>) é atualizado para apontar para <code>novaTarefa</code>. Isso efetivamente anexa a nova tarefa ao final da lista." },
                    { line: 64, code: '    }', short: "Fim do bloco 'else'.", long: "<strong><code>}</code>:</strong> Fecha o bloco <code>else</code>." },
                    { line: 65, code: '}', short: "Fim da função 'insertLast'.", long: "<strong><code>}</code>:</strong> Fecha o bloco de código da função <code>insertLast</code>." }
                ]
            },
            // Seção: Função removerTarefa
            {
                sectionTitle: "Função: removerTarefa",
                sectionExplanation: "Remove uma tarefa da lista com base no seu ID.",
                lines: [
                    { line: 67, code: '<span class="keyword">void</span> <span class="function-name">removerTarefa</span>(<span class="type">Tarefa</span><span class="operator">**</span> <span class="variable">head</span>, <span class="keyword">int</span> <span class="variable">id</span>) {', short: "Define 'removerTarefa'. Recebe ponteiro para ponteiro 'head' e o ID da tarefa a remover.", long: "<strong><code>void removerTarefa(Tarefa** head, int id) {</code>:</strong> Define a função <code>removerTarefa</code>, que não retorna valor (<code>void</code>). Ela recebe <code>head</code> (um ponteiro para o ponteiro da cabeça da lista, permitindo modificar a cabeça) e <code>id</code> (o identificador da tarefa a ser removida)." },
                    { line: 68, code: '    <span class="type">Tarefa</span>* <span class="variable">temp</span> <span class="operator">=</span> <span class="operator">*</span><span class="variable">head</span>;', short: "Ponteiro 'temp' para percorrer a lista, começando da cabeça.", long: "<strong><code>Tarefa* temp = *head;</code>:</strong> Cria um ponteiro <code>temp</code> e o inicializa com o endereço do primeiro nó da lista (<code>*head</code>). Este ponteiro será usado para percorrer a lista em busca da tarefa com o ID especificado." },
                    { line: 69, code: '    <span class="type">Tarefa</span>* <span class="variable">anterior</span> <span class="operator">=</span> <span class="keyword">NULL</span>;', short: "Ponteiro 'anterior' para rastrear o nó anterior ao 'temp'.", long: "<strong><code>Tarefa* anterior = NULL;</code>:</strong> Cria um ponteiro <code>anterior</code> e o inicializa com <code>NULL</code>. Este ponteiro manterá o endereço do nó que precede o nó <code>temp</code> durante a travessia. É crucial para religar a lista após a remoção de um nó." },
                    { line: 71, code: '    <span class="keyword">while</span> (<span class="variable">temp</span> <span class="operator">!=</span> <span class="keyword">NULL</span> <span class="operator">&amp;&amp;</span> <span class="variable">temp</span><span class="operator">-></span><span class="variable">id</span> <span class="operator">!=</span> <span class="variable">id</span>) {', short: "Percorre a lista enquanto 'temp' não for NULL e o ID da tarefa atual não for o buscado.", long: "<strong><code>while (temp != NULL && temp->id != id) {</code>:</strong> Inicia um loop <code>while</code> que continua enquanto <code>temp</code> não for <code>NULL</code> (ou seja, não chegamos ao fim da lista) E o <code>id</code> do nó atual (<code>temp->id</code>) for diferente do <code>id</code> que estamos procurando." },
                    { line: 72, code: '        <span class="variable">anterior</span> <span class="operator">=</span> <span class="variable">temp</span>;', short: "O nó atual ('temp') se torna o 'anterior' na próxima iteração.", long: "<strong><code>anterior = temp;</code>:</strong> Antes de avançar <code>temp</code>, o valor atual de <code>temp</code> é atribuído a <code>anterior</code>. Assim, <code>anterior</code> sempre aponta para o nó visitado na iteração anterior." },
                    { line: 73, code: '        <span class="variable">temp</span> <span class="operator">=</span> <span class="variable">temp</span><span class="operator">-></span><span class="variable">proximo</span>;', short: "Avança 'temp' para o próximo nó.", long: "<strong><code>temp = temp->proximo;</code>:</strong> <code>temp</code> é atualizado para apontar para o próximo nó na lista." },
                    { line: 74, code: '    }', short: "Fim do loop 'while'.", long: "<strong><code>}</code>:</strong> Fecha o bloco do loop <code>while</code>. Ao final do loop, ou <code>temp</code> é <code>NULL</code> (tarefa não encontrada), ou <code>temp->id == id</code> (tarefa encontrada)." },
                    { line: 76, code: '    <span class="keyword">if</span> (<span class="variable">temp</span> <span class="operator">==</span> <span class="keyword">NULL</span>) {', short: "Se 'temp' for NULL, a tarefa não foi encontrada.", long: "<strong><code>if (temp == NULL) {</code>:</strong> Verifica se <code>temp</code> é <code>NULL</code>. Se for, significa que o loop terminou porque o fim da lista foi alcançado sem encontrar a tarefa com o ID especificado." },
                    { line: 77, code: '        <span class="function-name">printf</span>(<span class="string">"Tarefa não encontrada!\\n"</span>);', short: "Imprime mensagem de tarefa não encontrada.", long: "<strong><code>printf(\"Tarefa não encontrada!\\n\");</code>:</strong> Imprime uma mensagem indicando que a tarefa não foi encontrada." },
                    { line: 78, code: '        <span class="keyword">return</span>;', short: "Retorna da função, pois não há o que remover.", long: "<strong><code>return;</code>:</strong> Encerra a execução da função <code>removerTarefa</code>, pois não há nenhuma tarefa para remover." },
                    { line: 79, code: '    }', short: "Fim do bloco 'if'.", long: "<strong><code>}</code>:</strong> Fecha o bloco <code>if</code>." },
                    { line: 81, code: '    <span class="keyword">if</span> (<span class="variable">anterior</span> <span class="operator">==</span> <span class="keyword">NULL</span>) {', short: "Se 'anterior' for NULL, a tarefa a ser removida é a primeira da lista (head).", long: "<strong><code>if (anterior == NULL) {</code>:</strong> Verifica se <code>anterior</code> é <code>NULL</code>. Isso acontece se a tarefa a ser removida for o primeiro nó da lista (a cabeça da lista), pois o loop não terá executado a linha <code>anterior = temp;</code>." },
                    { line: 82, code: '        <span class="operator">*</span><span class="variable">head</span> <span class="operator">=</span> <span class="variable">temp</span><span class="operator">-></span><span class="variable">proximo</span>;', short: "A cabeça da lista agora aponta para o próximo nó após 'temp'.", long: "<strong><code>*head = temp->proximo;</code>:</strong> Se a tarefa a ser removida é a cabeça da lista, o ponteiro <code>head</code> da lista (acessado por <code>*head</code>) é atualizado para apontar para o nó seguinte ao nó <code>temp</code> (<code>temp->proximo</code>). Isso efetivamente remove o primeiro nó." },
                    { line: 83, code: '    } <span class="keyword">else</span> {', short: "Caso contrário, a tarefa a ser removida está no meio ou no fim da lista.", long: "<strong><code>} else {</code>:</strong> Se <code>anterior</code> não for <code>NULL</code>, significa que a tarefa a ser removida está no meio ou no final da lista (não é a cabeça)." },
                    { line: 84, code: '        <span class="variable">anterior</span><span class="operator">-></span><span class="variable">proximo</span> <span class="operator">=</span> <span class="variable">temp</span><span class="operator">-></span><span class="variable">proximo</span>;', short: "O 'proximo' do nó anterior agora 'pula' o nó 'temp', apontando para o sucessor de 'temp'.", long: "<strong><code>anterior->proximo = temp->proximo;</code>:</strong> O campo <code>proximo</code> do nó <code>anterior</code> é atualizado para apontar para o nó que sucede <code>temp</code> (<code>temp->proximo</code>). Isso efetivamente 'desvia' o nó <code>temp</code> da lista, removendo-o." },
                    { line: 85, code: '    }', short: "Fim do bloco 'else'.", long: "<strong><code>}</code>:</strong> Fecha o bloco <code>else</code>." },
                    { line: 87, code: '    <span class="function-name">free</span>(<span class="variable">temp</span>);', short: "Libera a memória alocada para o nó 'temp' (a tarefa removida).", long: "<strong><code>free(temp);</code>:</strong> Libera a memória que havia sido alocada para o nó <code>temp</code> (a tarefa que foi removida). Isso é crucial para evitar vazamentos de memória." },
                    { line: 88, code: '    <span class="function-name">printf</span>(<span class="string">"Tarefa removida com sucesso!\\n"</span>);', short: "Imprime mensagem de sucesso na remoção.", long: "<strong><code>printf(\"Tarefa removida com sucesso!\\n\");</code>:</strong> Imprime uma mensagem confirmando que a tarefa foi removida com sucesso." },
                    { line: 89, code: '}', short: "Fim da função 'removerTarefa'.", long: "<strong><code>}</code>:</strong> Fecha o bloco de código da função <code>removerTarefa</code>." }
                ]
            },
            // Seção: Função listarTarefas
            {
                sectionTitle: "Função: listarTarefas",
                sectionExplanation: "Percorre a lista encadeada e imprime os detalhes de cada tarefa.",
                lines: [
                    { line: 91, code: '<span class="keyword">void</span> <span class="function-name">listarTarefas</span>(<span class="type">Tarefa</span>* <span class="variable">head</span>) {', short: "Define 'listarTarefas'. Recebe o ponteiro 'head' da lista.", long: "<strong><code>void listarTarefas(Tarefa* head) {</code>:</strong> Define a função <code>listarTarefas</code>, que não retorna valor (<code>void</code>). Ela recebe um ponteiro <code>head</code> para o início da lista de tarefas. Sua finalidade é exibir todas as tarefas presentes na lista." },
                    { line: 92, code: '    <span class="keyword">if</span> (<span class="function-name">empty</span>(<span class="variable">head</span>)) {', short: "Verifica se a lista está vazia usando a função 'empty'.", long: "<strong><code>if (empty(head)) {</code>:</strong> Chama a função <code>empty</code> para verificar se a lista está vazia. Se <code>empty(head)</code> retornar verdadeiro, o bloco <code>if</code> é executado." },
                    { line: 93, code: '        <span class="function-name">printf</span>(<span class="string">"\\nNenhuma tarefa cadastrada.\\n"</span>);', short: "Se vazia, imprime mensagem informando que não há tarefas.", long: "<strong><code>printf(\"\\nNenhuma tarefa cadastrada.\\n\");</code>:</strong> Imprime uma mensagem indicando que não há tarefas cadastradas na lista." },
                    { line: 94, code: '        <span class="keyword">return</span>;', short: "Retorna da função, pois não há tarefas para listar.", long: "<strong><code>return;</code>:</strong> Encerra a execução da função <code>listarTarefas</code>, já que não há o que listar." },
                    { line: 95, code: '    }', short: "Fim do bloco 'if'.", long: "<strong><code>}</code>:</strong> Fecha o bloco <code>if</code>." },
                    { line: 97, code: '    <span class="type">Tarefa</span>* <span class="variable">temp</span> <span class="operator">=</span> <span class="variable">head</span>;', short: "Cria um ponteiro temporário 'temp' para percorrer a lista, começando de 'head'.", long: "<strong><code>Tarefa* temp = head;</code>:</strong> Cria um ponteiro temporário <code>temp</code> e o inicializa com o endereço do primeiro nó da lista (<code>head</code>). Este ponteiro será usado para iterar sobre a lista." },
                    { line: 98, code: '    <span class="function-name">printf</span>(<span class="string">"\\nListando tarefas...\\n"</span>);', short: "Imprime um cabeçalho indicando o início da listagem.", long: "<strong><code>printf(\"\\nListando tarefas...\\n\");</code>:</strong> Imprime uma mensagem indicando que a listagem das tarefas vai começar." },
                    { line: 99, code: '    <span class="keyword">while</span> (<span class="variable">temp</span> <span class="operator">!=</span> <span class="keyword">NULL</span>) {', short: "Percorre a lista enquanto 'temp' não for NULL (fim da lista).", long: "<strong><code>while (temp != NULL) {</code>:</strong> Inicia um loop <code>while</code> que continua enquanto <code>temp</code> não for <code>NULL</code>, ou seja, enquanto houver tarefas na lista para serem processadas." },
                    { line: 100, code: '        <span class="function-name">printf</span>(<span class="string">"\\nTarefa ID: %d\\nTítulo: %s\\nDescrição: %s\\nPrioridade: %s\\n"</span>,', short: "Imprime os detalhes da tarefa atual (ID, Título, Descrição, Prioridade).", long: "<strong><code>printf(\"\\nTarefa ID: %d\\nTítulo: %s\\nDescrição: %s\\nPrioridade: %s\\n\", ...);</code>:</strong> Utiliza a função <code>printf</code> para formatar e exibir os detalhes da tarefa atualmente apontada por <code>temp</code>. Os especificadores de formato <code>%d</code> (para inteiro) e <code>%s</code> (para string) são usados para inserir os valores dos campos da tarefa na string de formatação." },
                    { line: 101, code: '               <span class="variable">temp</span><span class="operator">-></span><span class="variable">id</span>, <span class="variable">temp</span><span class="operator">-></span><span class="variable">titulo</span>, <span class="variable">temp</span><span class="operator">-></span><span class="variable">descricao</span>, <span class="variable">temp</span><span class="operator">-></span><span class="variable">prioridade</span>);', short: "Argumentos para o printf: os campos da tarefa atual.", long: "<strong><code>temp->id, temp->titulo, temp->descricao, temp->prioridade);</code>:</strong> São os valores dos campos da tarefa atual (<code>temp</code>) que serão impressos: <code>id</code>, <code>titulo</code>, <code>descricao</code> e <code>prioridade</code>." },
                    { line: 102, code: '        <span class="variable">temp</span> <span class="operator">=</span> <span class="variable">temp</span><span class="operator">-></span><span class="variable">proximo</span>;', short: "Avança 'temp' para a próxima tarefa na lista.", long: "<strong><code>temp = temp->proximo;</code>:</strong> Atualiza <code>temp</code> para apontar para a próxima tarefa na lista, movendo-se para o próximo nó." },
                    { line: 103, code: '    }', short: "Fim do loop 'while'.", long: "<strong><code>}</code>:</strong> Fecha o bloco do loop <code>while</code>." },
                    { line: 104, code: '    <span class="function-name">printf</span>(<span class="string">"\\n"</span>);', short: "Imprime uma nova linha ao final da listagem para formatação.", long: "<strong><code>printf(\"\\n\");</code>:</strong> Imprime um caractere de nova linha para melhorar a formatação da saída no console após listar todas as tarefas." },
                    { line: 105, code: '}', short: "Fim da função 'listarTarefas'.", long: "<strong><code>}</code>:</strong> Fecha o bloco de código da função <code>listarTarefas</code>." }
                ]
            },
             // Seção: Função buscaLinearPorTitulo
            {
                sectionTitle: "Função: buscaLinearPorTitulo",
                sectionExplanation: "Realiza uma busca linear por uma tarefa com base no seu título.",
                lines: [
                    { line: 107, code: '<span class="keyword">void</span> <span class="function-name">buscaLinearPorTitulo</span>(<span class="type">Tarefa</span>* <span class="variable">head</span>, <span class="keyword">char</span>* <span class="variable">tituloBusca</span>) {', short: "Define 'buscaLinearPorTitulo'. Recebe 'head' e o título a ser buscado.", long: "<strong><code>void buscaLinearPorTitulo(Tarefa* head, char* tituloBusca) {</code>:</strong> Define a função <code>buscaLinearPorTitulo</code>, que não retorna valor. Ela recebe o ponteiro <code>head</code> da lista e uma string <code>tituloBusca</code> contendo o título da tarefa a ser procurada." },
                    { line: 108, code: '    <span class="type">Tarefa</span>* <span class="variable">temp</span> <span class="operator">=</span> <span class="variable">head</span>;', short: "Ponteiro 'temp' para percorrer a lista.", long: "<strong><code>Tarefa* temp = head;</code>:</strong> Inicializa um ponteiro <code>temp</code> com a cabeça da lista para iterar sobre ela." },
                    { line: 109, code: '    <span class="keyword">while</span> (<span class="variable">temp</span> <span class="operator">!=</span> <span class="keyword">NULL</span>) {', short: "Percorre a lista.", long: "<strong><code>while (temp != NULL) {</code>:</strong> Loop que continua enquanto não se chega ao fim da lista." },
                    { line: 110, code: '        <span class="keyword">if</span> (<span class="function-name">strcmp</span>(<span class="variable">temp</span><span class="operator">-></span><span class="variable">titulo</span>, <span class="variable">tituloBusca</span>) <span class="operator">==</span> <span class="number">0</span>) {', short: "Compara o título da tarefa atual com o título buscado.", long: "<strong><code>if (strcmp(temp->titulo, tituloBusca) == 0) {</code>:</strong> Usa <code>strcmp</code> (da biblioteca <code>string.h</code>) para comparar o título da tarefa atual (<code>temp->titulo</code>) com <code>tituloBusca</code>. <code>strcmp</code> retorna 0 se as strings forem idênticas." },
                    { line: 111, code: '            <span class="function-name">printf</span>(<span class="string">"\\nTarefa encontrada:\\nID: %d\\nTítulo: %s\\nDescrição: %s\\nPrioridade: %s\\n"</span>,', short: "Se encontrada, imprime os detalhes da tarefa.", long: "<strong><code>printf(\"\\nTarefa encontrada...\", ...);</code>:</strong> Se os títulos correspondem, imprime os detalhes da tarefa encontrada." },
                    { line: 112, code: '                   <span class="variable">temp</span><span class="operator">-></span><span class="variable">id</span>, <span class="variable">temp</span><span class="operator">-></span><span class="variable">titulo</span>, <span class="variable">temp</span><span class="operator">-></span><span class="variable">descricao</span>, <span class="variable">temp</span><span class="operator">-></span><span class="variable">prioridade</span>);', short: "Argumentos para o printf.", long: "<strong><code>temp->id, temp->titulo, temp->descricao, temp->prioridade);</code>:</strong> Campos da tarefa encontrada a serem impressos." },
                    { line: 113, code: '            <span class="keyword">return</span>;', short: "Retorna da função, pois a tarefa foi encontrada.", long: "<strong><code>return;</code>:</strong> Encerra a função, pois a tarefa foi encontrada e exibida." },
                    { line: 114, code: '        }', short: "Fim do 'if'.", long: "<strong><code>}</code>:</strong> Fecha o bloco <code>if</code>." },
                    { line: 115, code: '        <span class="variable">temp</span> <span class="operator">=</span> <span class="variable">temp</span><span class="operator">-></span><span class="variable">proximo</span>;', short: "Avança para a próxima tarefa.", long: "<strong><code>temp = temp->proximo;</code>:</strong> Move <code>temp</code> para o próximo nó da lista." },
                    { line: 116, code: '    }', short: "Fim do 'while'.", long: "<strong><code>}</code>:</strong> Fecha o bloco <code>while</code>." },
                    { line: 117, code: '    <span class="function-name">printf</span>(<span class="string">"\\nTarefa com título \'%s\' não encontrada.\\n"</span>, <span class="variable">tituloBusca</span>);', short: "Se o loop terminar, a tarefa não foi encontrada.", long: "<strong><code>printf(\"\\nTarefa com título '%s' não encontrada.\\n\", tituloBusca);</code>:</strong> Se o loop terminar sem encontrar a tarefa, imprime uma mensagem indicando que a tarefa com o título especificado não foi encontrada." },
                    { line: 118, code: '}', short: "Fim da função 'buscaLinearPorTitulo'.", long: "<strong><code>}</code>:</strong> Fecha o bloco da função." }
                ]
            },
            // Seção: Função tamanhoLista
            {
                sectionTitle: "Função: tamanhoLista",
                sectionExplanation: "Calcula e retorna o número de tarefas na lista.",
                lines: [
                    { line: 120, code: '<span class="keyword">int</span> <span class="function-name">tamanhoLista</span>(<span class="type">Tarefa</span>* <span class="variable">head</span>) {', short: "Define 'tamanhoLista'. Retorna o número de elementos na lista.", long: "<strong><code>int tamanhoLista(Tarefa* head) {</code>:</strong> Define a função <code>tamanhoLista</code> que retorna um inteiro (o tamanho da lista). Recebe o ponteiro <code>head</code> da lista." },
                    { line: 121, code: '    <span class="keyword">int</span> <span class="variable">tamanho</span> <span class="operator">=</span> <span class="number">0</span>;', short: "Inicializa um contador de tamanho.", long: "<strong><code>int tamanho = 0;</code>:</strong> Declara e inicializa uma variável <code>tamanho</code> com 0, que será usada para contar os nós." },
                    { line: 122, code: '    <span class="keyword">while</span> (<span class="variable">head</span> <span class="operator">!=</span> <span class="keyword">NULL</span>) {', short: "Percorre a lista.", long: "<strong><code>while (head != NULL) {</code>:</strong> Loop que continua enquanto não se chega ao fim da lista (<code>head</code> não é modificado na lista original, apenas o ponteiro local)." },
                    { line: 123, code: '        <span class="variable">tamanho</span><span class="operator">++</span>;', short: "Incrementa o contador para cada nó.", long: "<strong><code>tamanho++;</code>:</strong> Incrementa o contador <code>tamanho</code> para cada nó visitado." },
                    { line: 124, code: '        <span class="variable">head</span> <span class="operator">=</span> <span class="variable">head</span><span class="operator">-></span><span class="variable">proximo</span>;', short: "Avança para o próximo nó.", long: "<strong><code>head = head->proximo;</code>:</strong> Move o ponteiro <code>head</code> (local da função) para o próximo nó." },
                    { line: 125, code: '    }', short: "Fim do 'while'.", long: "<strong><code>}</code>:</strong> Fecha o bloco <code>while</code>." },
                    { line: 126, code: '    <span class="keyword">return</span> <span class="variable">tamanho</span>;', short: "Retorna o tamanho calculado.", long: "<strong><code>return tamanho;</code>:</strong> Retorna o valor final do contador <code>tamanho</code>." },
                    { line: 127, code: '}', short: "Fim da função 'tamanhoLista'.", long: "<strong><code>}</code>:</strong> Fecha o bloco da função." }
                ]
            },
            // Seção: Função listaParaArray
            {
                sectionTitle: "Função: listaParaArray",
                sectionExplanation: "Converte a lista encadeada em um array de ponteiros para Tarefa. Usado pelas funções de ordenação.",
                lines: [
                    { line: 129, code: '<span class="keyword">void</span> <span class="function-name">listaParaArray</span>(<span class="type">Tarefa</span>* <span class="variable">head</span>, <span class="type">Tarefa</span><span class="operator">**</span> <span class="variable">array</span>) {', short: "Define 'listaParaArray'. Converte a lista para um array de ponteiros de Tarefa.", long: "<strong><code>void listaParaArray(Tarefa* head, Tarefa** array) {</code>:</strong> Define a função <code>listaParaArray</code>. Ela não retorna valor. Recebe <code>head</code> (ponteiro para o início da lista) e <code>array</code> (um array de ponteiros para <code>Tarefa</code>, <code>Tarefa**</code>), que será preenchido com os endereços dos nós da lista." },
                    { line: 130, code: '    <span class="keyword">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;', short: "Inicializa um índice para o array.", long: "<strong><code>int i = 0;</code>:</strong> Declara e inicializa um contador <code>i</code> com 0, que servirá como índice para o <code>array</code>." },
                    { line: 131, code: '    <span class="keyword">while</span> (<span class="variable">head</span> <span class="operator">!=</span> <span class="keyword">NULL</span>) {', short: "Percorre a lista.", long: "<strong><code>while (head != NULL) {</code>:</strong> Loop que continua enquanto não se chega ao fim da lista." },
                    { line: 132, code: '        <span class="variable">array</span>[<span class="variable">i</span><span class="operator">++</span>] <span class="operator">=</span> <span class="variable">head</span>;', short: "Armazena o ponteiro do nó atual no array e incrementa o índice.", long: "<strong><code>array[i++] = head;</code>:</strong> Armazena o ponteiro do nó atual (<code>head</code>) na posição <code>i</code> do <code>array</code>. Em seguida, <code>i</code> é incrementado (pós-incremento)." },
                    { line: 133, code: '        <span class="variable">head</span> <span class="operator">=</span> <span class="variable">head</span><span class="operator">-></span><span class="variable">proximo</span>;', short: "Avança para o próximo nó da lista.", long: "<strong><code>head = head->proximo;</code>:</strong> Move o ponteiro <code>head</code> para o próximo nó da lista." },
                    { line: 134, code: '    }', short: "Fim do 'while'.", long: "<strong><code>}</code>:</strong> Fecha o bloco <code>while</code>." },
                    { line: 135, code: '}', short: "Fim da função 'listaParaArray'.", long: "<strong><code>}</code>:</strong> Fecha o bloco da função." }
                ]
            },
            // Seção: Função prioridadeValor
            {
                sectionTitle: "Função: prioridadeValor",
                sectionExplanation: "Converte a string de prioridade ('Alta', 'Média', 'Baixa') em um valor numérico para facilitar a ordenação.",
                lines: [
                    { line: 137, code: '<span class="keyword">int</span> <span class="function-name">prioridadeValor</span>(<span class="keyword">char</span>* <span class="variable">prioridade</span>) {', short: "Define 'prioridadeValor'. Converte string de prioridade para um valor numérico.", long: "<strong><code>int prioridadeValor(char* prioridade) {</code>:</strong> Define a função <code>prioridadeValor</code> que retorna um inteiro. Ela recebe uma string <code>prioridade</code> como argumento. O objetivo é converter a representação textual da prioridade em um valor numérico para facilitar comparações (ex: para ordenação)." },
                    { line: 138, code: '    <span class="keyword">if</span> (<span class="function-name">strcmp</span>(<span class="variable">prioridade</span>, <span class="string">"Alta"</span>) <span class="operator">==</span> <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;', short: "Se prioridade for 'Alta', retorna 1.", long: "<strong><code>if (strcmp(prioridade, \"Alta\") == 0) return 1;</code>:</strong> Compara a string <code>prioridade</code> com \"Alta\". Se forem iguais (<code>strcmp</code> retorna 0), a função retorna <code>1</code>." },
                    { line: 139, code: '    <span class="keyword">if</span> (<span class="function-name">strcmp</span>(<span class="variable">prioridade</span>, <span class="string">"Média"</span>) <span class="operator">==</span> <span class="number">0</span>) <span class="keyword">return</span> <span class="number">2</span>;', short: "Se prioridade for 'Média', retorna 2.", long: "<strong><code>if (strcmp(prioridade, \"Média\") == 0) return 2;</code>:</strong> Compara a string <code>prioridade</code> com \"Média\". Se forem iguais, retorna <code>2</code>." },
                    { line: 140, code: '    <span class="keyword">if</span> (<span class="function-name">strcmp</span>(<span class="variable">prioridade</span>, <span class="string">"Baixa"</span>) <span class="operator">==</span> <span class="number">0</span>) <span class="keyword">return</span> <span class="number">3</span>;', short: "Se prioridade for 'Baixa', retorna 3.", long: "<strong><code>if (strcmp(prioridade, \"Baixa\") == 0) return 3;</code>:</strong> Compara a string <code>prioridade</code> com \"Baixa\". Se forem iguais, retorna <code>3</code>." },
                    { line: 141, code: '    <span class="keyword">return</span> <span class="number">4</span>;', short: "Para qualquer outra string (ou prioridade desconhecida), retorna 4.", long: "<strong><code>return 4;</code>:</strong> Se nenhuma das comparações anteriores for verdadeira (ou seja, a string de prioridade não é 'Alta', 'Média' ou 'Baixa'), a função retorna <code>4</code>. Isso pode ser usado para tratar prioridades desconhecidas ou para ordená-las por último." },
                    { line: 142, code: '}', short: "Fim da função 'prioridadeValor'.", long: "<strong><code>}</code>:</strong> Fecha o bloco da função." }
                ]
            },
            // Seção: Função ordenarPorPrioridade
            {
                sectionTitle: "Função: ordenarPorPrioridade",
                sectionExplanation: "Ordena a lista de tarefas com base na prioridade (Alta > Média > Baixa). Utiliza o algoritmo Bubble Sort após converter a lista para um array.",
                lines: [
                    { line: 144, code: '<span class="keyword">void</span> <span class="function-name">ordenarPorPrioridade</span>(<span class="type">Tarefa</span><span class="operator">**</span> <span class="variable">head</span>) {', short: "Define 'ordenarPorPrioridade'. Ordena a lista por prioridade.", long: "<strong><code>void ordenarPorPrioridade(Tarefa** head) {</code>:</strong> Define a função <code>ordenarPorPrioridade</code>, que não retorna valor. Recebe um ponteiro para o ponteiro <code>head</code> da lista, pois a ordenação pode alterar qual nó é o primeiro." },
                    { line: 145, code: '    <span class="keyword">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="function-name">tamanhoLista</span>(<span class="operator">*</span><span class="variable">head</span>);', short: "Obtém o número de tarefas na lista.", long: "<strong><code>int n = tamanhoLista(*head);</code>:</strong> Chama <code>tamanhoLista</code> para obter o número de elementos (<code>n</code>) na lista. <code>*head</code> é usado para passar o ponteiro da cabeça da lista." },
                    { line: 146, code: '    <span class="keyword">if</span> (<span class="variable">n</span> <span class="operator">&lt;</span> <span class="number">2</span>) <span class="keyword">return</span>;', short: "Se a lista tem menos de 2 elementos, já está ordenada.", long: "<strong><code>if (n < 2) return;</code>:</strong> Se a lista tem 0 ou 1 elemento, ela já está (trivialmente) ordenada, então a função retorna sem fazer nada." },
                    { line: 148, code: '    <span class="type">Tarefa</span>* <span class="variable">array</span>[<span class="variable">n</span>];', short: "Declara um array de ponteiros para Tarefa com tamanho 'n'. (VLA)", long: "<strong><code>Tarefa* array[n];</code>:</strong> Declara um Array de Tamanho Variável (VLA - Variable Length Array) chamado <code>array</code>, que pode armazenar <code>n</code> ponteiros para <code>Tarefa</code>. VLAs são uma característica do C99. Este array será usado para facilitar a ordenação." },
                    { line: 149, code: '    <span class="function-name">listaParaArray</span>(<span class="operator">*</span><span class="variable">head</span>, <span class="variable">array</span>);', short: "Converte a lista encadeada para o array.", long: "<strong><code>listaParaArray(*head, array);</code>:</strong> Chama a função <code>listaParaArray</code> para preencher o <code>array</code> com os ponteiros para os nós da lista encadeada." },
                    { line: 151, code: '    <span class="keyword">for</span> (<span class="keyword">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; <span class="variable">i</span> <span class="operator">&lt;</span> <span class="variable">n</span><span class="operator">-</span><span class="number">1</span>; <span class="variable">i</span><span class="operator">++</span>) {', short: "Início do loop externo do Bubble Sort.", long: "<strong><code>for (int i = 0; i < n-1; i++) {</code>:</strong> Inicia o loop externo do algoritmo Bubble Sort. Este loop executa <code>n-1</code> passagens sobre o array." },
                    { line: 152, code: '        <span class="keyword">for</span> (<span class="keyword">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; <span class="variable">j</span> <span class="operator">&lt;</span> <span class="variable">n</span><span class="operator">-</span><span class="number">1</span><span class="operator">-</span><span class="variable">i</span>; <span class="variable">j</span><span class="operator">++</span>) {', short: "Início do loop interno do Bubble Sort.", long: "<strong><code>for (int j = 0; j < n-1-i; j++) {</code>:</strong> Inicia o loop interno do Bubble Sort. A cada passagem do loop externo, o maior (ou menor, dependendo da ordenação) elemento 'borbulha' para sua posição correta no final do array. Por isso, o limite superior do loop interno diminui (<code>n-1-i</code>)." },
                    { line: 153, code: '            <span class="keyword">if</span> (<span class="function-name">prioridadeValor</span>(<span class="variable">array</span>[<span class="variable">j</span>]<span class="operator">-></span><span class="variable">prioridade</span>) <span class="operator">&gt;</span> <span class="function-name">prioridadeValor</span>(<span class="variable">array</span>[<span class="variable">j</span><span class="operator">+</span><span class="number">1</span>]<span class="operator">-></span><span class="variable">prioridade</span>)) {', short: "Compara a prioridade de elementos adjacentes.", long: "<strong><code>if (prioridadeValor(array[j]->prioridade) > prioridadeValor(array[j+1]->prioridade)) {</code>:</strong> Compara os valores numéricos das prioridades de dois elementos adjacentes no array (<code>array[j]</code> e <code>array[j+1]</code>) usando a função <code>prioridadeValor</code>. Se a prioridade do elemento atual (<code>j</code>) for maior (numericamente, o que significa menor importância, ex: 'Baixa' (3) > 'Alta' (1)) que a do próximo (<code>j+1</code>), eles precisam ser trocados para ordenar de Alta para Baixa prioridade." },
                    { line: 154, code: '                <span class="type">Tarefa</span>* <span class="variable">temp</span> <span class="operator">=</span> <span class="variable">array</span>[<span class="variable">j</span>];', short: "Inicia a troca dos elementos se estiverem fora de ordem.", long: "<strong><code>Tarefa* temp = array[j];</code>:</strong> Armazena o ponteiro <code>array[j]</code> em uma variável temporária <code>temp</code> para realizar a troca." },
                    { line: 155, code: '                <span class="variable">array</span>[<span class="variable">j</span>] <span class="operator">=</span> <span class="variable">array</span>[<span class="variable">j</span><span class="operator">+</span><span class="number">1</span>];', short: "Realiza a troca.", long: "<strong><code>array[j] = array[j+1];</code>:</strong> O ponteiro <code>array[j]</code> recebe o valor de <code>array[j+1]</code>." },
                    { line: 156, code: '                <span class="variable">array</span>[<span class="variable">j</span><span class="operator">+</span><span class="number">1</span>] <span class="operator">=</span> <span class="variable">temp</span>;', short: "Completa a troca.", long: "<strong><code>array[j+1] = temp;</code>:</strong> O ponteiro <code>array[j+1]</code> recebe o valor que estava originalmente em <code>array[j]</code> (armazenado em <code>temp</code>)." },
                    { line: 157, code: '            }', short: "Fim do 'if' da troca.", long: "<strong><code>}</code>:</strong> Fecha o bloco <code>if</code> da comparação e troca." },
                    { line: 158, code: '        }', short: "Fim do loop interno.", long: "<strong><code>}</code>:</strong> Fecha o loop interno do Bubble Sort." },
                    { line: 159, code: '    }', short: "Fim do loop externo.", long: "<strong><code>}</code>:</strong> Fecha o loop externo do Bubble Sort. Após estes loops, o <code>array</code> de ponteiros está ordenado por prioridade." },
                    { line: 161, code: '    <span class="keyword">for</span> (<span class="keyword">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; <span class="variable">i</span> <span class="operator">&lt;</span> <span class="variable">n</span><span class="operator">-</span><span class="number">1</span>; <span class="variable">i</span><span class="operator">++</span>) {', short: "Reconstrói a lista encadeada a partir do array ordenado.", long: "<strong><code>for (int i = 0; i < n-1; i++) {</code>:</strong> Loop para religar os nós da lista encadeada de acordo com a ordem do <code>array</code>." },
                    { line: 162, code: '        <span class="variable">array</span>[<span class="variable">i</span>]<span class="operator">-></span><span class="variable">proximo</span> <span class="operator">=</span> <span class="variable">array</span>[<span class="variable">i</span><span class="operator">+</span><span class="number">1</span>];', short: "O 'proximo' de cada nó aponta para o nó seguinte no array ordenado.", long: "<strong><code>array[i]->proximo = array[i+1];</code>:</strong> O campo <code>proximo</code> do nó <code>array[i]</code> é configurado para apontar para o nó <code>array[i+1]</code>, estabelecendo a ligação na nova ordem." },
                    { line: 163, code: '    }', short: "Fim do loop de reconstrução.", long: "<strong><code>}</code>:</strong> Fecha o loop de reconstrução." },
                    { line: 164, code: '    <span class="variable">array</span>[<span class="variable">n</span><span class="operator">-</span><span class="number">1</span>]<span class="operator">-></span><span class="variable">proximo</span> <span class="operator">=</span> <span class="keyword">NULL</span>;', short: "O 'proximo' do último elemento do array ordenado é NULL.", long: "<strong><code>array[n-1]->proximo = NULL;</code>:</strong> O campo <code>proximo</code> do último elemento do array ordenado (<code>array[n-1]</code>) é configurado como <code>NULL</code>, indicando o fim da lista." },
                    { line: 165, code: '    <span class="operator">*</span><span class="variable">head</span> <span class="operator">=</span> <span class="variable">array</span>[<span class="number">0</span>];', short: "A cabeça da lista agora é o primeiro elemento do array ordenado.", long: "<strong><code>*head = array[0];</code>:</strong> O ponteiro <code>head</code> da lista (acessado por <code>*head</code>) é atualizado para apontar para o primeiro elemento do array ordenado (<code>array[0]</code>), que é agora o novo início da lista." },
                    { line: 167, code: '    <span class="function-name">printf</span>(<span class="string">"\\nTarefas ordenadas por prioridade!\\n"</span>);', short: "Informa que a ordenação foi concluída.", long: "<strong><code>printf(\"\\nTarefas ordenadas por prioridade!\\n\");</code>:</strong> Imprime uma mensagem indicando que as tarefas foram ordenadas com sucesso." },
                    { line: 168, code: '}', short: "Fim da função 'ordenarPorPrioridade'.", long: "<strong><code>}</code>:</strong> Fecha o bloco da função." }
                ]
            },
            // Seção: Função ordenarPorTitulo
            {
                sectionTitle: "Função: ordenarPorTitulo",
                sectionExplanation: "Ordena a lista de tarefas em ordem alfabética pelo título. Similar à ordenação por prioridade, usa Bubble Sort.",
                lines: [
                    { line: 170, code: '<span class="keyword">void</span> <span class="function-name">ordenarPorTitulo</span>(<span class="type">Tarefa</span><span class="operator">**</span> <span class="variable">head</span>) {', short: "Define 'ordenarPorTitulo'. Ordena a lista por título.", long: "<strong><code>void ordenarPorTitulo(Tarefa** head) {</code>:</strong> Define a função <code>ordenarPorTitulo</code>. Similar à <code>ordenarPorPrioridade</code>, ela modifica a lista e, portanto, recebe <code>Tarefa** head</code>." },
                    { line: 171, code: '    <span class="keyword">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="function-name">tamanhoLista</span>(<span class="operator">*</span><span class="variable">head</span>);', short: "Obtém o tamanho da lista.", long: "<strong><code>int n = tamanhoLista(*head);</code>:</strong> Calcula o número de tarefas na lista." },
                    { line: 172, code: '    <span class="keyword">if</span> (<span class="variable">n</span> <span class="operator">&lt;</span> <span class="number">2</span>) <span class="keyword">return</span>;', short: "Retorna se a lista for muito pequena para ordenar.", long: "<strong><code>if (n < 2) return;</code>:</strong> Se a lista tem menos de dois elementos, não há necessidade de ordenação." },
                    { line: 174, code: '    <span class="type">Tarefa</span>* <span class="variable">array</span>[<span class="variable">n</span>];', short: "Cria um array de ponteiros para Tarefa.", long: "<strong><code>Tarefa* array[n];</code>:</strong> Declara um VLA para armazenar ponteiros para os nós da lista." },
                    { line: 175, code: '    <span class="function-name">listaParaArray</span>(<span class="operator">*</span><span class="variable">head</span>, <span class="variable">array</span>);', short: "Converte a lista para o array.", long: "<strong><code>listaParaArray(*head, array);</code>:</strong> Preenche o array com os nós da lista." },
                    { line: 177, code: '    <span class="keyword">for</span> (<span class="keyword">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; <span class="variable">i</span> <span class="operator">&lt;</span> <span class="variable">n</span><span class="operator">-</span><span class="number">1</span>; <span class="variable">i</span><span class="operator">++</span>) {', short: "Loop externo do Bubble Sort.", long: "<strong><code>for (int i = 0; i < n-1; i++) {</code>:</strong> Loop externo do Bubble Sort." },
                    { line: 178, code: '        <span class="keyword">for</span> (<span class="keyword">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; <span class="variable">j</span> <span class="operator">&lt;</span> <span class="variable">n</span><span class="operator">-</span><span class="number">1</span><span class="operator">-</span><span class="variable">i</span>; <span class="variable">j</span><span class="operator">++</span>) {', short: "Loop interno do Bubble Sort.", long: "<strong><code>for (int j = 0; j < n-1-i; j++) {</code>:</strong> Loop interno do Bubble Sort." },
                    { line: 179, code: '            <span class="keyword">if</span> (<span class="function-name">strcmp</span>(<span class="variable">array</span>[<span class="variable">j</span>]<span class="operator">-></span><span class="variable">titulo</span>, <span class="variable">array</span>[<span class="variable">j</span><span class="operator">+</span><span class="number">1</span>]<span class="operator">-></span><span class="variable">titulo</span>) <span class="operator">&gt;</span> <span class="number">0</span>) {', short: "Compara os títulos de elementos adjacentes usando 'strcmp'.", long: "<strong><code>if (strcmp(array[j]->titulo, array[j+1]->titulo) > 0) {</code>:</strong> Compara os títulos dos nós <code>array[j]</code> e <code>array[j+1]</code> usando <code>strcmp</code>. Se <code>strcmp</code> retorna um valor maior que 0, significa que <code>array[j]->titulo</code> vem depois de <code>array[j+1]->titulo</code> na ordem alfabética, então eles precisam ser trocados." },
                    { line: 180, code: '                <span class="type">Tarefa</span>* <span class="variable">temp</span> <span class="operator">=</span> <span class="variable">array</span>[<span class="variable">j</span>];', short: "Inicia a troca.", long: "<strong><code>Tarefa* temp = array[j];</code>:</strong> Armazena <code>array[j]</code> em <code>temp</code>." },
                    { line: 181, code: '                <span class="variable">array</span>[<span class="variable">j</span>] <span class="operator">=</span> <span class="variable">array</span>[<span class="variable">j</span><span class="operator">+</span><span class="number">1</span>];', short: "Realiza a troca.", long: "<strong><code>array[j] = array[j+1];</code>:</strong> Atualiza <code>array[j]</code>." },
                    { line: 182, code: '                <span class="variable">array</span>[<span class="variable">j</span><span class="operator">+</span><span class="number">1</span>] <span class="operator">=</span> <span class="variable">temp</span>;', short: "Completa a troca.", long: "<strong><code>array[j+1] = temp;</code>:</strong> Atualiza <code>array[j+1]</code>." },
                    { line: 183, code: '            }', short: "Fim do 'if' da troca.", long: "<strong><code>}</code>:</strong> Fecha o bloco <code>if</code>." },
                    { line: 184, code: '        }', short: "Fim do loop interno.", long: "<strong><code>}</code>:</strong> Fecha o loop interno." },
                    { line: 185, code: '    }', short: "Fim do loop externo.", long: "<strong><code>}</code>:</strong> Fecha o loop externo. O array está agora ordenado por título." },
                    { line: 187, code: '    <span class="keyword">for</span> (<span class="keyword">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; <span class="variable">i</span> <span class="operator">&lt;</span> <span class="variable">n</span><span class="operator">-</span><span class="number">1</span>; <span class="variable">i</span><span class="operator">++</span>) {', short: "Reconstrói a lista a partir do array ordenado.", long: "<strong><code>for (int i = 0; i < n-1; i++) {</code>:</strong> Loop para religar os nós na nova ordem." },
                    { line: 188, code: '        <span class="variable">array</span>[<span class="variable">i</span>]<span class="operator">-></span><span class="variable">proximo</span> <span class="operator">=</span> <span class="variable">array</span>[<span class="variable">i</span><span class="operator">+</span><span class="number">1</span>];', short: "Liga o nó atual ao próximo no array.", long: "<strong><code>array[i]->proximo = array[i+1];</code>:</strong> Ajusta o ponteiro <code>proximo</code>." },
                    { line: 189, code: '    }', short: "Fim do loop de reconstrução.", long: "<strong><code>}</code>:</strong> Fecha o loop." },
                    { line: 190, code: '    <span class="variable">array</span>[<span class="variable">n</span><span class="operator">-</span><span class="number">1</span>]<span class="operator">-></span><span class="variable">proximo</span> <span class="operator">=</span> <span class="keyword">NULL</span>;', short: "Define o 'proximo' do último nó como NULL.", long: "<strong><code>array[n-1]->proximo = NULL;</code>:</strong> O último nó da lista ordenada aponta para <code>NULL</code>." },
                    { line: 191, code: '    <span class="operator">*</span><span class="variable">head</span> <span class="operator">=</span> <span class="variable">array</span>[<span class="number">0</span>];', short: "Atualiza a cabeça da lista.", long: "<strong><code>*head = array[0];</code>:</strong> O ponteiro <code>head</code> da lista é atualizado para o primeiro elemento do array ordenado." },
                    { line: 193, code: '    <span class="function-name">printf</span>(<span class="string">"\\nTarefas ordenadas por título!\\n"</span>);', short: "Informa que a ordenação por título foi concluída.", long: "<strong><code>printf(\"\\nTarefas ordenadas por título!\\n\");</code>:</strong> Mensagem de sucesso." },
                    { line: 194, code: '}', short: "Fim da função 'ordenarPorTitulo'.", long: "<strong><code>}</code>:</strong> Fecha o bloco da função." }
                ]
            },
            // Seção: Função buscaBinariaPorTitulo
            {
                sectionTitle: "Função: buscaBinariaPorTitulo",
                sectionExplanation: "Realiza uma busca binária por uma tarefa com base no seu título. Requer que a lista esteja previamente ordenada por título.",
                lines: [
                    { line: 196, code: '<span class="keyword">void</span> <span class="function-name">buscaBinariaPorTitulo</span>(<span class="type">Tarefa</span>* <span class="variable">head</span>, <span class="keyword">char</span>* <span class="variable">tituloBusca</span>) {', short: "Define 'buscaBinariaPorTitulo'. Busca por título em lista ordenada.", long: "<strong><code>void buscaBinariaPorTitulo(Tarefa* head, char* tituloBusca) {</code>:</strong> Define a função <code>buscaBinariaPorTitulo</code>. Ela realiza uma busca binária, que é eficiente mas requer que os dados (neste caso, tarefas ordenadas por título) estejam ordenados." },
                    { line: 197, code: '    <span class="keyword">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="function-name">tamanhoLista</span>(<span class="variable">head</span>);', short: "Obtém o tamanho da lista.", long: "<strong><code>int n = tamanhoLista(head);</code>:</strong> Calcula o número de tarefas na lista." },
                    { line: 198, code: '    <span class="keyword">if</span> (<span class="variable">n</span> <span class="operator">==</span> <span class="number">0</span>) {', short: "Se a lista está vazia, não há o que buscar.", long: "<strong><code>if (n == 0) {</code>:</strong> Se a lista está vazia, não há como encontrar a tarefa." },
                    { line: 199, code: '        <span class="function-name">printf</span>(<span class="string">"\\nNenhuma tarefa cadastrada.\\n"</span>);', short: "Informa que não há tarefas.", long: "<strong><code>printf(\"\\nNenhuma tarefa cadastrada.\\n\");</code>:</strong> Mensagem para o usuário." },
                    { line: 200, code: '        <span class="keyword">return</span>;', short: "Retorna da função.", long: "<strong><code>return;</code>:</strong> Encerra a função." },
                    { line: 201, code: '    }', short: "Fim do 'if'.", long: "<strong><code>}</code>:</strong> Fecha o bloco <code>if</code>." },
                    { line: 203, code: '    <span class="type">Tarefa</span>* <span class="variable">array</span>[<span class="variable">n</span>];', short: "Cria um array para realizar a busca binária.", long: "<strong><code>Tarefa* array[n];</code>:</strong> Declara um VLA para armazenar os ponteiros dos nós da lista, necessário para o acesso por índice da busca binária." },
                    { line: 204, code: '    <span class="function-name">listaParaArray</span>(<span class="variable">head</span>, <span class="variable">array</span>);', short: "Converte a lista para o array.", long: "<strong><code>listaParaArray(head, array);</code>:</strong> Preenche o array com os nós. É crucial que a lista já esteja ordenada por título para a busca binária funcionar corretamente." },
                    { line: 206, code: '    <span class="keyword">int</span> <span class="variable">inicio</span> <span class="operator">=</span> <span class="number">0</span>, <span class="variable">fim</span> <span class="operator">=</span> <span class="variable">n</span> <span class="operator">-</span> <span class="number">1</span>, <span class="variable">meio</span>;', short: "Inicializa os índices para a busca binária.", long: "<strong><code>int inicio = 0, fim = n - 1, meio;</code>:</strong> Inicializa as variáveis para a busca binária: <code>inicio</code> (índice do primeiro elemento), <code>fim</code> (índice do último elemento) e <code>meio</code> (índice do elemento central a ser verificado)." },
                    { line: 207, code: '    <span class="keyword">while</span> (<span class="variable">inicio</span> <span class="operator">&lt;=</span> <span class="variable">fim</span>) {', short: "Loop da busca binária.", long: "<strong><code>while (inicio <= fim) {</code>:</strong> O loop continua enquanto o espaço de busca (delimitado por <code>inicio</code> e <code>fim</code>) for válido." },
                    { line: 208, code: '        <span class="variable">meio</span> <span class="operator">=</span> (<span class="variable">inicio</span> <span class="operator">+</span> <span class="variable">fim</span>) <span class="operator">/</span> <span class="number">2</span>;', short: "Calcula o índice do meio.", long: "<strong><code>meio = (inicio + fim) / 2;</code>:</strong> Calcula o índice do elemento do meio no intervalo de busca atual." },
                    { line: 209, code: '        <span class="keyword">int</span> <span class="variable">comparacao</span> <span class="operator">=</span> <span class="function-name">strcmp</span>(<span class="variable">tituloBusca</span>, <span class="variable">array</span>[<span class="variable">meio</span>]<span class="operator">-></span><span class="variable">titulo</span>);', short: "Compara o título buscado com o título do elemento do meio.", long: "<strong><code>int comparacao = strcmp(tituloBusca, array[meio]->titulo);</code>:</strong> Compara o <code>tituloBusca</code> com o título do elemento <code>array[meio]</code>. <code>strcmp</code> retorna: <0 se <code>tituloBusca</code> < <code>array[meio]->titulo</code>; 0 se são iguais; >0 se <code>tituloBusca</code> > <code>array[meio]->titulo</code>." },
                    { line: 211, code: '        <span class="keyword">if</span> (<span class="variable">comparacao</span> <span class="operator">==</span> <span class="number">0</span>) {', short: "Se 'comparacao' for 0, o título foi encontrado.", long: "<strong><code>if (comparacao == 0) {</code>:</strong> Se <code>comparacao</code> for 0, os títulos são iguais e a tarefa foi encontrada." },
                    { line: 212, code: '            <span class="function-name">printf</span>(<span class="string">"\\nTarefa encontrada:\\nID: %d\\nTítulo: %s\\nDescrição: %s\\nPrioridade: %s\\n"</span>,', short: "Imprime os detalhes da tarefa encontrada.", long: "<strong><code>printf(\"\\nTarefa encontrada...\", ...);</code>:</strong> Exibe os detalhes da tarefa." },
                    { line: 213, code: '                   <span class="variable">array</span>[<span class="variable">meio</span>]<span class="operator">-></span><span class="variable">id</span>, <span class="variable">array</span>[<span class="variable">meio</span>]<span class="operator">-></span><span class="variable">titulo</span>, <span class="variable">array</span>[<span class="variable">meio</span>]<span class="operator">-></span><span class="variable">descricao</span>, <span class="variable">array</span>[<span class="variable">meio</span>]<span class="operator">-></span><span class="variable">prioridade</span>);', short: "Argumentos para o printf.", long: "<strong><code>array[meio]->id, ...);</code>:</strong> Campos da tarefa encontrada." },
                    { line: 214, code: '            <span class="keyword">return</span>;', short: "Retorna, pois a tarefa foi encontrada.", long: "<strong><code>return;</code>:</strong> Encerra a função." },
                    { line: 215, code: '        } <span class="keyword">else if</span> (<span class="variable">comparacao</span> <span class="operator">&lt;</span> <span class="number">0</span>) {', short: "Se 'comparacao' < 0, o título buscado está na metade inferior.", long: "<strong><code>} else if (comparacao < 0) {</code>:</strong> Se <code>comparacao</code> for menor que 0, o <code>tituloBusca</code> é alfabeticamente anterior ao título do elemento do meio. Portanto, a busca deve continuar na metade inferior do array." },
                    { line: 216, code: '            <span class="variable">fim</span> <span class="operator">=</span> <span class="variable">meio</span> <span class="operator">-</span> <span class="number">1</span>;', short: "Ajusta o índice 'fim' para continuar a busca na metade inferior.", long: "<strong><code>fim = meio - 1;</code>:</strong> Atualiza <code>fim</code> para <code>meio - 1</code>, restringindo a busca à primeira metade." },
                    { line: 217, code: '        } <span class="keyword">else</span> {', short: "Caso contrário, o título buscado está na metade superior.", long: "<strong><code>} else {</code>:</strong> Se <code>comparacao</code> for maior que 0, o <code>tituloBusca</code> é alfabeticamente posterior ao título do elemento do meio. A busca continua na metade superior." },
                    { line: 218, code: '            <span class="variable">inicio</span> <span class="operator">=</span> <span class="variable">meio</span> <span class="operator">+</span> <span class="number">1</span>;', short: "Ajusta o índice 'inicio' para continuar a busca na metade superior.", long: "<strong><code>inicio = meio + 1;</code>:</strong> Atualiza <code>inicio</code> para <code>meio + 1</code>, restringindo a busca à segunda metade." },
                    { line: 219, code: '        }', short: "Fim do 'else if/else'.", long: "<strong><code>}</code>:</strong> Fecha o bloco <code>else if/else</code>." },
                    { line: 220, code: '    }', short: "Fim do 'while' da busca.", long: "<strong><code>}</code>:</strong> Fecha o loop <code>while</code>." },
                    { line: 222, code: '    <span class="function-name">printf</span>(<span class="string">"\\nTarefa com título \'%s\' não encontrada.\\n"</span>, <span class="variable">tituloBusca</span>);', short: "Se o loop terminar, a tarefa não foi encontrada.", long: "<strong><code>printf(\"\\nTarefa com título '%s' não encontrada.\\n\", tituloBusca);</code>:</strong> Se o loop terminar sem encontrar a tarefa, imprime uma mensagem indicando que ela não foi encontrada." },
                    { line: 223, code: '}', short: "Fim da função 'buscaBinariaPorTitulo'.", long: "<strong><code>}</code>:</strong> Fecha o bloco da função." }
                ]
            },
            // Seção: Função cleanLista
            {
                sectionTitle: "Função: cleanLista",
                sectionExplanation: "Libera toda a memória alocada para os nós da lista encadeada, prevenindo vazamentos de memória.",
                lines: [
                    { line: 225, code: '<span class="keyword">void</span> <span class="function-name">cleanLista</span>(<span class="type">Tarefa</span>* <span class="variable">head</span>) {', short: "Define 'cleanLista'. Libera a memória de todos os nós da lista.", long: "<strong><code>void cleanLista(Tarefa* head) {</code>:</strong> Define a função <code>cleanLista</code>, que não retorna valor. Ela recebe o ponteiro <code>head</code> da lista. Seu propósito é percorrer toda a lista e liberar a memória alocada para cada nó, evitando vazamentos de memória quando o programa termina ou a lista não é mais necessária." },
                    { line: 226, code: '    <span class="type">Tarefa</span>* <span class="variable">temp</span>;', short: "Declara um ponteiro temporário 'temp'.", long: "<strong><code>Tarefa* temp;</code>:</strong> Declara um ponteiro temporário <code>temp</code> do tipo <code>Tarefa*</code>. Este ponteiro será usado para guardar o endereço do nó a ser liberado enquanto <code>head</code> avança para o próximo nó." },
                    { line: 227, code: '    <span class="keyword">while</span> (<span class="variable">head</span> <span class="operator">!=</span> <span class="keyword">NULL</span>) {', short: "Percorre a lista enquanto houver nós.", long: "<strong><code>while (head != NULL) {</code>:</strong> Inicia um loop <code>while</code> que continua enquanto <code>head</code> não for <code>NULL</code>, ou seja, enquanto houver nós na lista." },
                    { line: 228, code: '        <span class="variable">temp</span> <span class="operator">=</span> <span class="variable">head</span>;', short: "Armazena o nó atual em 'temp'.", long: "<strong><code>temp = head;</code>:</strong> O ponteiro <code>temp</code> recebe o endereço do nó atual apontado por <code>head</code>." },
                    { line: 229, code: '        <span class="variable">head</span> <span class="operator">=</span> <span class="variable">head</span><span class="operator">-></span><span class="variable">proximo</span>;', short: "Avança 'head' para o próximo nó.", long: "<strong><code>head = head->proximo;</code>:</strong> O ponteiro <code>head</code> é atualizado para apontar para o próximo nó da lista. Isso é feito antes de liberar <code>temp</code> para não perder a referência ao restante da lista." },
                    { line: 230, code: '        <span class="function-name">free</span>(<span class="variable">temp</span>);', short: "Libera a memória do nó armazenado em 'temp'.", long: "<strong><code>free(temp);</code>:</strong> A função <code>free</code> é chamada para liberar a memória previamente alocada para o nó que <code>temp</code> está apontando. Isso devolve a memória ao sistema." },
                    { line: 231, code: '    }', short: "Fim do loop 'while'.", long: "<strong><code>}</code>:</strong> Fecha o bloco do loop <code>while</code>. Ao final do loop, todos os nós da lista terão sido liberados." },
                    { line: 232, code: '}', short: "Fim da função 'cleanLista'.", long: "<strong><code>}</code>:</strong> Fecha o bloco de código da função <code>cleanLista</code>." }
                ]
            },
            // Seção: Função main
            {
                sectionTitle: "Função: main",
                sectionExplanation: "É o ponto de entrada do programa. Apresenta um menu interativo para o usuário gerenciar as tarefas.",
                lines: [
                    { line: 234, code: '<span class="keyword">int</span> <span class="function-name">main</span>() {', short: "Função principal do programa.", long: "<strong><code>int main() {</code>:</strong> É a função principal onde a execução do programa começa. Retorna um valor inteiro (tipicamente 0 para sucesso)." },
                    { line: 235, code: '    <span class="type">Tarefa</span>* <span class="variable">listaTarefas</span> <span class="operator">=</span> <span class="function-name">create</span>();', short: "Cria (inicializa) uma lista de tarefas vazia.", long: "<strong><code>Tarefa* listaTarefas = create();</code>:</strong> Declara um ponteiro <code>listaTarefas</code> do tipo <code>Tarefa*</code> e o inicializa chamando a função <code>create()</code>, que retorna <code>NULL</code>, significando uma lista vazia." },
                    { line: 236, code: '    <span class="keyword">int</span> <span class="variable">escolha</span>;', short: "Variável para armazenar a escolha do usuário no menu.", long: "<strong><code>int escolha;</code>:</strong> Declara uma variável inteira <code>escolha</code> para armazenar a opção selecionada pelo usuário no menu." },
                    { line: 237, code: '    <span class="keyword">char</span> <span class="variable">titulo</span>[<span class="number">50</span>], <span class="variable">descricao</span>[<span class="number">100</span>];', short: "Arrays para armazenar temporariamente o título e a descrição da tarefa.", long: "<strong><code>char titulo[50], descricao[100];</code>:</strong> Declara arrays de caracteres para armazenar o título e a descrição de uma nova tarefa quando o usuário optar por adicioná-la." },
                    { line: 238, code: '    <span class="keyword">int</span> <span class="variable">prioridade</span>, <span class="variable">id</span>;', short: "Variáveis para armazenar a prioridade e o ID da tarefa.", long: "<strong><code>int prioridade, id;</code>:</strong> Declara variáveis inteiras para armazenar a prioridade numérica de uma nova tarefa e o ID de uma tarefa a ser removida ou buscada." },
                    { line: 240, code: '    <span class="keyword">do</span> {', short: "Início de um loop 'do-while' para o menu principal.", long: "<strong><code>do {</code>:</strong> Inicia um loop <code>do-while</code>. O bloco de código dentro do loop será executado pelo menos uma vez, e continuará executando enquanto a condição no <code>while</code> (no final do loop) for verdadeira." },
                    { line: 241, code: '        <span class="function-name">printf</span>(<span class="string">"\\nGerenciador de Tarefas\\n"</span>);', short: "Imprime o título do menu.", long: "<strong><code>printf(\"\\nGerenciador de Tarefas\\n\");</code>:</strong> Exibe o título do menu do gerenciador de tarefas." },
                    { line: 242, code: '        <span class="function-name">printf</span>(<span class="string">"1 - Adicionar Tarefa\\n"</span>);', short: "Opção 1 do menu.", long: "<strong><code>printf(\"1 - Adicionar Tarefa\\n\");</code>:</strong> Exibe a opção 1 do menu (Adicionar Tarefa)." },
                    { line: 243, code: '        <span class="function-name">printf</span>(<span class="string">"2 - Remover Tarefa\\n"</span>);', short: "Opção 2 do menu.", long: "<strong><code>printf(\"2 - Remover Tarefa\\n\");</code>:</strong> Exibe a opção 2 (Remover Tarefa)." },
                    { line: 244, code: '        <span class="function-name">printf</span>(<span class="string">"3 - Listar Tarefas\\n"</span>);', short: "Opção 3 do menu.", long: "<strong><code>printf(\"3 - Listar Tarefas\\n\");</code>:</strong> Exibe a opção 3 (Listar Tarefas)." },
                    { line: 245, code: '        <span class="function-name">printf</span>(<span class="string">"4 - Buscar Tarefa por Título (Linear)\\n"</span>);', short: "Opção 4 do menu.", long: "<strong><code>printf(\"4 - Buscar Tarefa por Título (Linear)\\n\");</code>:</strong> Exibe a opção 4 (Busca Linear por Título)." },
                    { line: 246, code: '        <span class="function-name">printf</span>(<span class="string">"5 - Buscar Tarefa por Título (Binária)\\n"</span>);', short: "Opção 5 do menu.", long: "<strong><code>printf(\"5 - Buscar Tarefa por Título (Binária)\\n\");</code>:</strong> Exibe a opção 5 (Busca Binária por Título)." },
                    { line: 247, code: '        <span class="function-name">printf</span>(<span class="string">"6 - Ordenar Tarefas por Prioridade\\n"</span>);', short: "Opção 6 do menu.", long: "<strong><code>printf(\"6 - Ordenar Tarefas por Prioridade\\n\");</code>:</strong> Exibe a opção 6 (Ordenar por Prioridade)." },
                    { line: 248, code: '        <span class="function-name">printf</span>(<span class="string">"7 - Ordenar Tarefas por Título\\n"</span>);', short: "Opção 7 do menu.", long: "<strong><code>printf(\"7 - Ordenar Tarefas por Título\\n\");</code>:</strong> Exibe a opção 7 (Ordenar por Título)." },
                    { line: 249, code: '        <span class="function-name">printf</span>(<span class="string">"0 - Sair\\n"</span>);', short: "Opção 0 do menu.", long: "<strong><code>printf(\"0 - Sair\\n\");</code>:</strong> Exibe a opção 0 (Sair do programa)." },
                    { line: 250, code: '        <span class="function-name">printf</span>(<span class="string">"Escolha: "</span>);', short: "Solicita a entrada do usuário.", long: "<strong><code>printf(\"Escolha: \");</code>:</strong> Pede ao usuário para digitar sua escolha." },
                    { line: 251, code: '        <span class="function-name">scanf</span>(<span class="string">"%d"</span>, <span class="operator">&amp;</span><span class="variable">escolha</span>);', short: "Lê a escolha do usuário (um número inteiro).", long: "<strong><code>scanf(\"%d\", &escolha);</code>:</strong> Lê um número inteiro digitado pelo usuário e o armazena na variável <code>escolha</code>. O <code>&</code> antes de <code>escolha</code> passa o endereço da variável para que <code>scanf</code> possa modificá-la." },
                    { line: 252, code: '        <span class="function-name">getchar</span>(); <span class="comment">// Limpa o buffer do teclado</span>', short: "Consome o caractere de nova linha deixado pelo 'scanf'.", long: "<strong><code>getchar();</code>:</strong> Lê e descarta um único caractere do buffer de entrada. Isso é usado aqui para consumir o caractere de nova linha (Enter) que fica no buffer após a leitura de um número com <code>scanf(\"%d\", ...)</code>. Sem isso, a próxima chamada a <code>fgets</code> leria esse Enter como uma string vazia." },
                    { line: 254, code: '        <span class="keyword">switch</span> (<span class="variable">escolha</span>) {', short: "Inicia uma estrutura 'switch' baseada na escolha do usuário.", long: "<strong><code>switch (escolha) {</code>:</strong> Inicia uma estrutura <code>switch</code> que executa diferentes blocos de código com base no valor da variável <code>escolha</code>." },
                    { line: 255, code: '            <span class="keyword">case</span> <span class="number">1</span>:', short: "Caso a escolha seja 1 (Adicionar Tarefa).", long: "<strong><code>case 1:</code>:</strong> Se o usuário digitou <code>1</code>." },
                    { line: 256, code: '                <span class="function-name">printf</span>(<span class="string">"Título: "</span>);', short: "Solicita o título da tarefa.", long: "<strong><code>printf(\"Título: \");</code>:</strong> Pede ao usuário para digitar o título da tarefa." },
                    { line: 257, code: '                <span class="function-name">fgets</span>(<span class="variable">titulo</span>, <span class="keyword">sizeof</span>(<span class="variable">titulo</span>), <span class="variable">stdin</span>);', short: "Lê o título da tarefa (incluindo espaços).", long: "<strong><code>fgets(titulo, sizeof(titulo), stdin);</code>:</strong> Lê uma linha de texto (o título) da entrada padrão (<code>stdin</code>) e a armazena no array <code>titulo</code>. <code>sizeof(titulo)</code> especifica o tamanho máximo do buffer. <code>fgets</code> é mais seguro que <code>scanf</code> para ler strings pois evita estouro de buffer e lê espaços." },
                    { line: 258, code: '                <span class="variable">titulo</span>[<span class="function-name">strcspn</span>(<span class="variable">titulo</span>, <span class="string">"\\n"</span>)] <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// Remove o \\n</span>', short: "Remove o caractere de nova linha do final do título, se houver.", long: "<strong><code>titulo[strcspn(titulo, \"\\n\")] = 0;</code>:</strong> Remove o caractere de nova linha (<code>\\n</code>) que <code>fgets</code> geralmente adiciona ao final da string lida, se houver espaço no buffer. <code>strcspn(titulo, \"\\n\")</code> encontra o índice da primeira ocorrência de <code>\\n</code> em <code>titulo</code>. Ao colocar um caractere nulo (<code>0</code> ou <code>'\\0'</code>) nessa posição, a string é terminada ali, efetivamente removendo o <code>\\n</code>." },
                    { line: 260, code: '                <span class="function-name">printf</span>(<span class="string">"Descrição: "</span>);', short: "Solicita a descrição da tarefa.", long: "<strong><code>printf(\"Descrição: \");</code>:</strong> Pede a descrição da tarefa." },
                    { line: 261, code: '                <span class="function-name">fgets</span>(<span class="variable">descricao</span>, <span class="keyword">sizeof</span>(<span class="variable">descricao</span>), <span class="variable">stdin</span>);', short: "Lê a descrição.", long: "<strong><code>fgets(descricao, sizeof(descricao), stdin);</code>:</strong> Lê a descrição da tarefa." },
                    { line: 262, code: '                <span class="variable">descricao</span>[<span class="function-name">strcspn</span>(<span class="variable">descricao</span>, <span class="string">"\\n"</span>)] <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// Remove o \\n</span>', short: "Remove o caractere de nova linha da descrição.", long: "<strong><code>descricao[strcspn(descricao, \"\\n\")] = 0;</code>:</strong> Remove o <code>\\n</code> da string de descrição." },
                    { line: 264, code: '                <span class="function-name">printf</span>(<span class="string">"Prioridade (1-Alta, 2-Média, 3-Baixa): "</span>);', short: "Solicita a prioridade da tarefa.", long: "<strong><code>printf(\"Prioridade (1-Alta, 2-Média, 3-Baixa): \");</code>:</strong> Pede ao usuário para digitar a prioridade como um número." },
                    { line: 265, code: '                <span class="function-name">scanf</span>(<span class="string">"%d"</span>, <span class="operator">&amp;</span><span class="variable">prioridade</span>);', short: "Lê a prioridade numérica.", long: "<strong><code>scanf(\"%d\", &prioridade);</code>:</strong> Lê o número da prioridade." },
                    { line: 266, code: '                <span class="function-name">getchar</span>(); <span class="comment">// Limpa o buffer</span>', short: "Consome o '\\n' do buffer.", long: "<strong><code>getchar();</code>:</strong> Novamente, consome o <code>\\n</code> deixado por <code>scanf</code>." },
                    { line: 268, code: '                <span class="function-name">insertLast</span>(<span class="operator">&amp;</span><span class="variable">listaTarefas</span>, <span class="variable">titulo</span>, <span class="variable">descricao</span>, <span class="variable">prioridade</span>);', short: "Chama 'insertLast' para adicionar a nova tarefa à lista.", long: "<strong><code>insertLast(&listaTarefas, titulo, descricao, prioridade);</code>:</strong> Chama a função <code>insertLast</code> para adicionar a nova tarefa à lista. <code>&listaTarefas</code> passa o endereço do ponteiro <code>listaTarefas</code>, permitindo que <code>insertLast</code> modifique a cabeça da lista se necessário." },
                    { line: 269, code: '                <span class="keyword">break</span>;', short: "Sai do 'switch'.", long: "<strong><code>break;</code>:</strong> Termina a execução do <code>case 1</code> e sai do <code>switch</code>." },
                    { line: 271, code: '            <span class="keyword">case</span> <span class="number">2</span>:', short: "Caso a escolha seja 2 (Remover Tarefa).", long: "<strong><code>case 2:</code>:</strong> Se o usuário digitou <code>2</code>." },
                    { line: 272, code: '                <span class="function-name">printf</span>(<span class="string">"ID da tarefa para remover: "</span>);', short: "Solicita o ID da tarefa a ser removida.", long: "<strong><code>printf(\"ID da tarefa para remover: \");</code>:</strong> Pede o ID da tarefa a ser removida." },
                    { line: 273, code: '                <span class="function-name">scanf</span>(<span class="string">"%d"</span>, <span class="operator">&amp;</span><span class="variable">id</span>);', short: "Lê o ID.", long: "<strong><code>scanf(\"%d\", &id);</code>:</strong> Lê o ID fornecido pelo usuário." },
                    { line: 274, code: '                <span class="function-name">getchar</span>(); <span class="comment">// Limpa o buffer</span>', short: "Consome o '\\n'.", long: "<strong><code>getchar();</code>:</strong> Limpa o buffer do teclado." },
                    { line: 275, code: '                <span class="function-name">removerTarefa</span>(<span class="operator">&amp;</span><span class="variable">listaTarefas</span>, <span class="variable">id</span>);', short: "Chama 'removerTarefa' para remover a tarefa.", long: "<strong><code>removerTarefa(&listaTarefas, id);</code>:</strong> Chama a função para remover a tarefa com o ID especificado." },
                    { line: 276, code: '                <span class="keyword">break</span>;', short: "Sai do 'switch'.", long: "<strong><code>break;</code>:</strong> Sai do <code>switch</code>." },
                    { line: 278, code: '            <span class="keyword">case</span> <span class="number">3</span>:', short: "Caso a escolha seja 3 (Listar Tarefas).", long: "<strong><code>case 3:</code>:</strong> Se o usuário digitou <code>3</code>." },
                    { line: 279, code: '                <span class="function-name">listarTarefas</span>(<span class="variable">listaTarefas</span>);', short: "Chama 'listarTarefas' para exibir todas as tarefas.", long: "<strong><code>listarTarefas(listaTarefas);</code>:</strong> Chama a função para listar todas as tarefas cadastradas." },
                    { line: 280, code: '                <span class="keyword">break</span>;', short: "Sai do 'switch'.", long: "<strong><code>break;</code>:</strong> Sai do <code>switch</code>." },
                    { line: 282, code: '            <span class="keyword">case</span> <span class="number">4</span>:', short: "Caso a escolha seja 4 (Busca Linear por Título).", long: "<strong><code>case 4:</code>:</strong> Se o usuário digitou <code>4</code>." },
                    { line: 283, code: '                <span class="function-name">printf</span>(<span class="string">"Digite o título da tarefa: "</span>);', short: "Solicita o título para busca.", long: "<strong><code>printf(\"Digite o título da tarefa: \");</code>:</strong> Pede o título a ser buscado." },
                    { line: 284, code: '                <span class="function-name">fgets</span>(<span class="variable">titulo</span>, <span class="keyword">sizeof</span>(<span class="variable">titulo</span>), <span class="variable">stdin</span>);', short: "Lê o título.", long: "<strong><code>fgets(titulo, sizeof(titulo), stdin);</code>:</strong> Lê o título." },
                    { line: 285, code: '                <span class="variable">titulo</span>[<span class="function-name">strcspn</span>(<span class="variable">titulo</span>, <span class="string">"\\n"</span>)] <span class="operator">=</span> <span class="number">0</span>;', short: "Remove o '\\n'.", long: "<strong><code>titulo[strcspn(titulo, \"\\n\")] = 0;</code>:</strong> Remove o caractere de nova linha." },
                    { line: 286, code: '                <span class="function-name">buscaLinearPorTitulo</span>(<span class="variable">listaTarefas</span>, <span class="variable">titulo</span>);', short: "Chama 'buscaLinearPorTitulo'.", long: "<strong><code>buscaLinearPorTitulo(listaTarefas, titulo);</code>:</strong> Realiza a busca linear pelo título." },
                    { line: 287, code: '                <span class="keyword">break</span>;', short: "Sai do 'switch'.", long: "<strong><code>break;</code>:</strong> Sai do <code>switch</code>." },
                    { line: 289, code: '            <span class="keyword">case</span> <span class="number">5</span>:', short: "Caso a escolha seja 5 (Busca Binária por Título).", long: "<strong><code>case 5:</code>:</strong> Se o usuário digitou <code>5</code>. Requer que a lista esteja ordenada por título." },
                    { line: 290, code: '                <span class="function-name">printf</span>(<span class="string">"Digite o título da tarefa (lista precisa estar ordenada): "</span>);', short: "Solicita o título, lembrando que a lista deve estar ordenada.", long: "<strong><code>printf(\"Digite o título da tarefa (lista precisa estar ordenada): \");</code>:</strong> Pede o título, alertando sobre a necessidade de ordenação prévia." },
                    { line: 291, code: '                <span class="function-name">fgets</span>(<span class="variable">titulo</span>, <span class="keyword">sizeof</span>(<span class="variable">titulo</span>), <span class="variable">stdin</span>);', short: "Lê o título.", long: "<strong><code>fgets(titulo, sizeof(titulo), stdin);</code>:</strong> Lê o título." },
                    { line: 292, code: '                <span class="variable">titulo</span>[<span class="function-name">strcspn</span>(<span class="variable">titulo</span>, <span class="string">"\\n"</span>)] <span class="operator">=</span> <span class="number">0</span>;', short: "Remove o '\\n'.", long: "<strong><code>titulo[strcspn(titulo, \"\\n\")] = 0;</code>:</strong> Remove o caractere de nova linha." },
                    { line: 293, code: '                <span class="function-name">buscaBinariaPorTitulo</span>(<span class="variable">listaTarefas</span>, <span class="variable">titulo</span>);', short: "Chama 'buscaBinariaPorTitulo'.", long: "<strong><code>buscaBinariaPorTitulo(listaTarefas, titulo);</code>:</strong> Realiza a busca binária." },
                    { line: 294, code: '                <span class="keyword">break</span>;', short: "Sai do 'switch'.", long: "<strong><code>break;</code>:</strong> Sai do <code>switch</code>." },
                    { line: 296, code: '            <span class="keyword">case</span> <span class="number">6</span>:', short: "Caso a escolha seja 6 (Ordenar por Prioridade).", long: "<strong><code>case 6:</code>:</strong> Se o usuário digitou <code>6</code>." },
                    { line: 297, code: '                <span class="function-name">ordenarPorPrioridade</span>(<span class="operator">&amp;</span><span class="variable">listaTarefas</span>);', short: "Chama 'ordenarPorPrioridade'.", long: "<strong><code>ordenarPorPrioridade(&listaTarefas);</code>:</strong> Ordena a lista de tarefas por prioridade." },
                    { line: 298, code: '                <span class="keyword">break</span>;', short: "Sai do 'switch'.", long: "<strong><code>break;</code>:</strong> Sai do <code>switch</code>." },
                    { line: 300, code: '            <span class="keyword">case</span> <span class="number">7</span>:', short: "Caso a escolha seja 7 (Ordenar por Título).", long: "<strong><code>case 7:</code>:</strong> Se o usuário digitou <code>7</code>." },
                    { line: 301, code: '                <span class="function-name">ordenarPorTitulo</span>(<span class="operator">&amp;</span><span class="variable">listaTarefas</span>);', short: "Chama 'ordenarPorTitulo'.", long: "<strong><code>ordenarPorTitulo(&listaTarefas);</code>:</strong> Ordena a lista de tarefas por título." },
                    { line: 302, code: '                <span class="keyword">break</span>;', short: "Sai do 'switch'.", long: "<strong><code>break;</code>:</strong> Sai do <code>switch</code>." },
                    { line: 304, code: '            <span class="keyword">case</span> <span class="number">0</span>:', short: "Caso a escolha seja 0 (Sair).", long: "<strong><code>case 0:</code>:</strong> Se o usuário digitou <code>0</code>." },
                    { line: 305, code: '                <span class="function-name">printf</span>(<span class="string">"Saindo...\\n"</span>);', short: "Imprime mensagem de saída.", long: "<strong><code>printf(\"Saindo...\\n\");</code>:</strong> Informa ao usuário que o programa está encerrando." },
                    { line: 306, code: '                <span class="function-name">cleanLista</span>(<span class="variable">listaTarefas</span>);', short: "Chama 'cleanLista' para liberar toda a memória alocada.", long: "<strong><code>cleanLista(listaTarefas);</code>:</strong> Libera a memória de todas as tarefas na lista antes de sair, prevenindo vazamentos de memória." },
                    { line: 307, code: '                <span class="keyword">break</span>;', short: "Sai do 'switch'.", long: "<strong><code>break;</code>:</strong> Sai do <code>switch</code>." },
                    { line: 309, code: '            <span class="keyword">default</span>:', short: "Caso a escolha seja inválida.", long: "<strong><code>default:</code>:</strong> Se a escolha do usuário não corresponder a nenhuma das opções válidas." },
                    { line: 310, code: '                <span class="function-name">printf</span>(<span class="string">"Opção inválida!\\n"</span>);', short: "Imprime mensagem de opção inválida.", long: "<strong><code>printf(\"Opção inválida!\\n\");</code>:</strong> Informa ao usuário que a opção digitada é inválida." },
                    { line: 311, code: '        }', short: "Fim do 'switch'.", long: "<strong><code>}</code>:</strong> Fecha o bloco <code>switch</code>." },
                    { line: 312, code: '    } <span class="keyword">while</span> (<span class="variable">escolha</span> <span class="operator">!=</span> <span class="number">0</span>);', short: "O loop 'do-while' continua enquanto a escolha for diferente de 0.", long: "<strong><code>} while (escolha != 0);</code>:</strong> Condição do loop <code>do-while</code>. O menu continuará sendo exibido e processando escolhas até que o usuário digite <code>0</code> para sair." },
                    { line: 314, code: '    <span class="keyword">return</span> <span class="number">0</span>;', short: "Retorna 0 para indicar que o programa terminou com sucesso.", long: "<strong><code>return 0;</code>:</strong> A função <code>main</code> retorna <code>0</code>, indicando ao sistema operacional que o programa foi executado com sucesso." },
                    { line: 315, code: '}', short: "Fim da função 'main' e do programa.", long: "<strong><code>}</code>:</strong> Fecha o bloco da função <code>main</code>." }
                ]
            }
        ];

        const codeAnalysisContainer = document.getElementById('code-analysis');
        const modal = document.getElementById('explanationModal');
        const modalTitle = document.getElementById('modalTitle');
        const modalBody = document.getElementById('modalBody');
        let currentLineNumber = 1;

        codeData.forEach(section => {
            if (section.sectionTitle) {
                const titleEl = document.createElement('h2');
                titleEl.className = 'section-title';
                titleEl.textContent = section.sectionTitle;
                codeAnalysisContainer.appendChild(titleEl);

                const explanationEl = document.createElement('p');
                explanationEl.className = 'section-explanation';
                explanationEl.innerHTML = section.sectionExplanation; // Use innerHTML if explanation contains HTML
                codeAnalysisContainer.appendChild(explanationEl);
            }

            section.lines.forEach(lineObj => {
                const lineDiv = document.createElement('div');
                lineDiv.className = 'code-line';
                lineDiv.onclick = () => openModal(lineObj.line, lineObj.long);

                const lineNumberSpan = document.createElement('span');
                lineNumberSpan.className = 'line-number';
                lineNumberSpan.textContent = lineObj.line; // Use line number from object
                
                const codeContentSpan = document.createElement('span');
                codeContentSpan.className = 'code-content';
                codeContentSpan.innerHTML = lineObj.code; // Code already has spans for coloring

                lineDiv.appendChild(lineNumberSpan);
                lineDiv.appendChild(codeContentSpan);
                codeAnalysisContainer.appendChild(lineDiv);
            });
        });

        function openModal(lineNumber, explanation) {
            modalTitle.textContent = `Explicação Detalhada - Linha ${lineNumber}`;
            modalBody.innerHTML = explanation; // Use innerHTML as explanations can have <strong>, <code> etc.
            modal.style.display = 'flex';
        }

        function closeModal() {
            modal.style.display = 'none';
        }

        // Close modal if user clicks outside of it
        window.onclick = function(event) {
            if (event.target == modal) {
                closeModal();
            }
        }
    </script>
</body>
</html>
